/*!For license information please see material-view.962dbdee33f9750c2939.js.LICENSE.txt*/(()=>{var e,t={51218:(e,t,r)=>{"use strict";var n=r(67294),a=r(73935),o=r(95173),i=r(35369),l=r(53894),c=r(59692),s=r(1538),u=r(61489),f=r(88663),m=r(83333),d=r(160),p=r(72739),y=r(78592),v="SET_CURRENT_TIME",h="UPDATE_NEW_BOOKMARK",b="SET_BOOKMARKS",g="ADD_BOOKMARK",w="UPDATE_BOOKMARK",E="DELETE_BOOKMARK",S="CLICK_ON_BOOKMARK",k="SET_CONTRIBUTIONS",_="ADD_CONTRIBUTIONS",O="DELETE_CONTRIBUTIONS",j="ADD_CONTRIBUTION",I="ADD_CONTRIBUTION_REPLY",N="SET_QUESTIONS",T="ADD_QUESTIONS",P="DELETE_QUESTIONS",C="ADD_QUESTION",x="ADD_QUESTION_REPLY",A="TOOGLE_LIKE",M="TOOGLE_PLAY_VIDEO",B="ADD_NUMBER_OF_CONTRIBUTIONS",L="SUBTRACT_NUMBER_OF_CONTRIBUTIONS",V="ADD_NUMBER_OF_QUESTIONS",R="SUBTRACT_NUMBER_OF_QUESTIONS",D="SET_PREVIEW",U="TOGGLE_SUGGESTIONS",F="ADD_SUGGESTIONS",G="QUESTION_FOR_SUGGESTIONS",q="UPDATE_SYLLABUS",z="SET_MILESTONE_NOTIFICATION",$="SET_REGISTER_MODA",H="SET_SHOW_MODAL_LEARNED_HERE",W="SET_SHOW_MODAL_GET_SUBSCRIPTION",J="SET_SHOW_MODAL_BLOCKED_MATERIAL",K="SET_OPEN_SHARE_MODAL",Y="SET_SELECTED_BOOKMARK";function Q(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z={contributions:{},questions:{},preview:"",isSuggestionsActive:!1,suggestions:{}},ee={title:"",description:"",isVisible:!1,successMessage:"",milestoneIsCompleted:!1},te={notification:ee},re={selected:null,share_modal_open:!1};const ne=(0,p.U)({header:y.r,contactInfo:u.m,videoPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case v:return e.set("currentTime",n);case h:return e.set("newBookmark",n);case b:return e.set("bookmarks",(0,i.fromJS)(n));case g:return e.set("bookmarks",e.get("bookmarks").unshift((0,i.fromJS)(n)));case w:var a=e.get("bookmarks").findIndex((function(e){return e.get("id")===n.id}));return e.setIn(["bookmarks",a],(0,i.fromJS)(n));case E:var o=e.get("bookmarks").findIndex((function(e){return e.get("id")===n}));return e.set("bookmarks",e.get("bookmarks").delete(o));case S:return e.set("onClickBookmark",n);case M:return e.set("playVideo",n);case B:var l=e.get("commentsNumber");return e.set("commentsNumber",l+1);case L:var c=e.get("commentsNumber");return e.set("commentsNumber",c-1);case V:var s=e.get("discussionsNumber");return e.set("discussionsNumber",s+1);case R:var u=e.get("discussionsNumber");return e.set("discussionsNumber",u-1);default:return e}},community:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case k:return e.set("contributions",n);case _:var a;return e.setIn(["contributions","cards"],(a=e.get("contributions").get("cards")).push.apply(a,Q(n.cards)));case O:if(void 0===n.parentIndex)return e.setIn(["contributions","cards"],e.get("contributions").get("cards").delete(n.index));var o=e.get("contributions").get("cards").get(n.parentIndex).get("subcards").delete(n.index);return e.setIn(["contributions","cards",n.parentIndex,"subcards"],o);case N:return e.set("questions",n);case T:var i;return e.setIn(["questions","cards"],(i=e.get("questions").get("cards")).push.apply(i,Q(n)));case P:if(void 0===n.parentIndex)return e.setIn(["questions","cards"],e.get("questions").get("cards").delete(n.index));var l=e.get("questions").get("cards").get(n.parentIndex).get("subcards").delete(n.index);return e.setIn(["questions","cards",n.parentIndex,"subcards"],l);case j:return e.setIn(["contributions","cards"],e.get("contributions").get("cards").unshift(n));case C:return e.setIn(["questions","cards"],e.get("questions").get("cards").unshift(n));case I:var c=e.get("contributions").get("cards").get(n.extraData.index).get("subcards").unshift(n.card);return e.setIn(["contributions","cards",n.extraData.index,"subcards"],c);case x:var s=e.get("questions").get("cards").get(n.extraData.index).get("subcards").unshift(n.card);return e.setIn(["questions","cards",n.extraData.index,"subcards"],s);case A:return void 0===n.parentIndex?e.setIn([n.type,"cards",n.index,"nLikes"],n.nLikes).setIn([n.type,"cards",n.index,"liked"],n.status):e.setIn([n.type,"cards",n.parentIndex,"subcards",n.index,"nLikes"],n.nLikes);case D:return e.set("preview",n);case U:return e.set("isSuggestionsActive",n);case F:return e.set("suggestions",n);case G:return e.set("questionForSuggestions",n);default:return e}},syllabus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;return r===q?e.set("concepts",(0,i.fromJS)(n)):e},milestone:u.m,ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case z:return e.set("notification",(0,i.fromJS)(n));case $:return e.set("register_modal_open",(0,i.fromJS)(n));default:return e}},explore:u.m,modalLearnedHere:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;return r===H?e.set("isOpen",(0,i.fromJS)(n)):e},modalGetSubscription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;return r===W?e.set("isOpen",(0,i.fromJS)(n)):e},modalBlockedMaterial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;return r===J?e.set("isOpen",(0,i.fromJS)(n)):e},plansData:u.m,bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case Y:return e.set("selected",(0,i.fromJS)(n));case K:return e.set("share_modal_open",(0,i.fromJS)(n));default:return e}}});var ae=r(45697),oe=r.n(ae),ie=r(13962),le=r(43215),ce=r(5664),se=r(57793),ue=r(26793),fe=r(94184),me=r.n(fe),de=r(82321),pe=r(67814),ye=r(68779),ve=r(59417),he=r(73582),be=r(77869),ge=r.n(be),we=function(e){switch(e){case"html":case"css":case"py":case"js":case"jsx":case"o":case"c":case"php":case"php3":case"php4":case"R":case"cs":case"styl":case"scss":case"ts":case"sass":case"config":case"json":case"yaml":case"sh":case"asp":case"aspx":case"pl":case"rb":case"xml":case"gradle":case"gradlew":case"bat":case"java":return ye.w49;case"pdf":return ye.gSj;case"png":case"jpg":case"svg":case"gif":case"raw":case"psd":case"xcf":case"tiff":case"tif":case"bmp":case"jpeg":case"eps":return ye.Oi0;case"webm":case"mkv":case"flv":case"vob":case"avi":case"mov":case"qt":case"wmv":case"yuv":case"mp4":case"mpg":case"m4v":return ye.hvm;case"mp3":case"voc":case"vox":case"wav":case"wma":return ye.$qS;case"doc":case"docx":return ye.Mfv;case"ppt":case"pptx":return ye.WOY;case"xlsx":case"xlsm":case"xlsb":case"xltx":case"xls":return ye.icc;case"csv":return ye.fUD;default:return ye.gMD}},Ee=function(e){return e.match(/txt|py|gitignore|go|asp|hbs|jsp|json|cpp|rb|html|md|css|yml|java|xml|Gemfile|php|js|jade|styl|sql|mxml|as|scss|sass|less|es6|jsx|ts|htm|coffee|sh|elm|elmx|tsx|npmrc|yaml|c|o|xhtml|class|cs|h|babelrc|eslintrc|swift|bat|gradle|gradlew$/i)},Se=function(e){return e.match(/jpg|jpeg|png|img|gif|bmp$/i)},ke={auth:{credentials:function(){return"/api/v3/users/credentials/"}},onboarding:{resendEmail:"/api/v4/onboarding/resend-email/"},milestone:"/api/v5/milestone/",conf:{detail:function(e){return"/api/v4/conferences/".concat(e,"/")}}},_e=r(9669),Oe=r.n(_e);function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="",n={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"};return t.headers&&(n=Ne(Ne({},n),t.headers)),t.baseURL&&(r=t.baseURL),t.custom?Oe():e?Oe().create({headers:Ne(Ne({},n),{},{"X-CSRFToken":(0,ie.c)(document.cookie).csrftoken})}):Oe().create({baseURL:r,headers:n})},Ce=function(e){return"/api/v4/material/syllabus-seen/".concat(e,"/")},xe=function(e,t,r){return"/api/v4/material/files-links/".concat(e,"/").concat(t,"-").concat(r,"/")},Ae={get:function(e,t,r){return"/api/v4/material/bookmarks/".concat(e,"/").concat(t,"-").concat(r,"/")},new:"/bookmarks/create/",delete:function(e){return"/bookmarks/".concat(e,"/delete/")},edit:function(e){return"/bookmarks/".concat(e,"/edit/")}},Me=function(e,t,r){return"/api/v4/material/recommendations/".concat(e,"/").concat(t,"-").concat(r,"/")},Be=function(e){return"/api/v3/materials/".concat(e,"/subtitle-feedback/")},Le=function(e,t,r){return"/api/v4/material/error-report/".concat(e,"/").concat(t,"-").concat(r,"/")},Ve="/api/v4/progress/courses/get_progress_platzi_day/",Re=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top";return"/api/v4/material/comments/".concat(e,"/").concat(t,"-").concat(r,"/?page=").concat(n,"&filter=").concat(a)},De=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top";return"/api/v4/material/discussions/".concat(e,"/").concat(t,"-").concat(r,"/?page=").concat(n,"&filter=").concat(a)},Ue="/upload_images/",Fe=function(e){return"/api/v3/suggestions/answers/?question=".concat(e)},Ge=function(e){return"/api/v2/stars-by-user/?comments=".concat(e)},qe="/clases/publish-link/",ze="/clases/upload-archives/",$e="/api/v5/milestone/",He=function(e){return"/api/v5/upgrade/basic/".concat(e,"/")},We=function(e){return"/api/v4/landing-course/".concat(e,"/")},Je=function(e,t){return"/api/v4/materials/to_finish/".concat(e,"/").concat(t,"/")},Ke=function(e,t){return"/behavior/v1/material-progress/?material_id=".concat(e,"&course_id=").concat(t)};function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Qe(){Qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return n(i,"_invoke",{value:E(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function m(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(j([])));h&&h!==t&&r.call(h,o)&&(y=h);var b=p.prototype=m.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var c=u(e[n],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Ye(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Xe(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ze(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Xe(o,n,a,i,l,"next",e)}function l(e){Xe(o,n,a,i,l,"throw",e)}i(void 0)}))}}var et=function(e){var t=e.payload;var r="".concat("https://api.platzi.com","/behavior/v1/"),n=ce.m.createV3();n.addPlugin(ce.m.SessionStudentPlugin),n.send(t,r)},tt=function(){var e=Ze(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe(!0).post(qe,t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Ze(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe(!0,{headers:{"Content-Type":"multipart/form-data"}}).post(ze,t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(e){return Pe(!0).get(He(e)).then((function(e){return e.data}))};function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function ot(){ot=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return n(i,"_invoke",{value:E(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function m(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(j([])));h&&h!==t&&r.call(h,o)&&(y=h);var b=p.prototype=m.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var c=u(e[n],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==at(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function it(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ft=function(e){var t=(0,ue.$)().t,r=ct((0,n.useState)(!1),2),a=r[0],o=r[1],i=ct((0,n.useState)(null),2),l=i[0],c=i[1],s=(0,n.useRef)(null),u=function(){var t,r=(t=ot().mark((function t(){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentPreview!==e.file.id){t.next=3;break}return e.setCurrentPreview(""),t.abrupt("return");case 3:if(Se(e.file.extension)){t.next=13;break}if(r=e.previews.find((function(t){return t.id===e.file.id&&t.url===e.file.url})),!r){t.next=10;break}c(r.data),t.next=13;break;case 10:return o(!0),t.next=13,(n=e.file.url,Pe(!0).get(n)).then((function(t){var r,n=t.data,a=e.file.extension.match(/json|babelrc|eslintrc$/i)?JSON.stringify(n,null,"  "):n;r=ge().getLanguage(e.file.extension)?ge().highlight(e.file.extension,a).value:ge().highlight("js",a).value,c(r),o(!1),e.setPreviews([].concat(it(e.previews),[{id:e.file.id,url:e.file.url,data:r}]))})).catch((function(e){throw o(!1),new Error(e)}));case 13:return t.next=15,e.setCurrentPreview(e.file.id);case 15:s.current.scrollIntoView({behavior:"smooth"});case 16:case"end":return t.stop()}var n}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){lt(o,n,a,i,l,"next",e)}function l(e){lt(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),f=function(){e.setCurrentPreview("")},m=e.currentPreview===e.file.id&&!a,d=me()("File-row",{"File-row--preview":m}),p=Ee(e.file.extension)||Se(e.file.extension),y="".concat(t("materialView.filesTree.downloadFile")," ").concat(e.file.name);return n.createElement("div",{className:"File",ref:s},p?n.createElement("button",{onClick:u,className:d},n.createElement("div",{className:"File-info"},n.createElement("div",{className:"File-details"},n.createElement(pe.G,{icon:we(e.file.extension)}),n.createElement("p",{className:"File-name"},e.file.name)),n.createElement("a",{href:e.file.url,target:"_blank",download:e.file.name,className:"File-download","aria-label":y},n.createElement(pe.G,{icon:ye.q7m}),n.createElement("div",{className:"File-download-tooltip"},t("materialView.filesTree.downloadFile")))),a&&n.createElement("div",{className:"File-loader"})):n.createElement("a",{href:e.file.url,target:"_blank",download:e.file.name,className:"File-row","aria-label":y},n.createElement("div",{className:"File-info"},n.createElement("div",{className:"File-details"},n.createElement(pe.G,{icon:we(e.file.extension)}),n.createElement("p",{className:"File-name"},e.file.name)),n.createElement("div",{className:"File-download"},n.createElement(pe.G,{icon:ye.q7m}),n.createElement("div",{className:"File-download-tooltip"},t("materialView.filesTree.downloadFile"))))),m&&n.createElement("div",{className:"File-preview"},Ee(e.file.extension)&&l?n.createElement("div",{className:"File-preview-code"},n.createElement("button",{onClick:f,className:"File-preview-code-close"},n.createElement(pe.G,{icon:ye.V9$}),t("materialView.editor.contract")),n.createElement("code",{dangerouslySetInnerHTML:{__html:l}})):Se(e.file.extension)?n.createElement("figure",{className:"File-preview-image"},n.createElement("img",{src:e.file.url,alt:e.file.name})):null))};ft.propTypes={currentPreview:oe().string,file:oe().shape({id:oe().string,name:oe().string,url:oe().string,extension:oe().string}),previews:oe().array,setPreviews:oe().func,setCurrentPreview:oe().func};var mt=function(e){var t=e.breadcrumb,r=e.changeFolder,a=(0,le.a)().width;return n.createElement("div",{className:"Breadcrumbs"},t.map((function(e,o){var i=n.createElement(n.Fragment,null,n.createElement(pe.G,{icon:he.Pk}),n.createElement("span",null,e.name));if("/"===e.id&&(i=n.createElement(pe.G,{icon:he.wzO})),a>d.Zb){var l=a<d.qY?2:3;if(t.length>l&&o===t.length-l-1&&0!==o&&(i="..."),t.length>l&&o<t.length-l-1&&0!==o)return}var c=me()("Breadcrumbs-item",{"Breadcrumbs-item--last":o===t.length-1,"Breadcrumbs-item--home":0===o}),s=me()("Breadcrumbs-divider",{"Breadcrumbs-divider--last":o===t.length-2,"Breadcrumbs-divider--first":0===o});return o===t.length-1?n.createElement(n.Fragment,{key:"crumb-".concat(e.id)},n.createElement("p",{className:c},i),"/"===e.id&&1===t.length&&n.createElement("span",{className:s},"/")):n.createElement(n.Fragment,{key:"crumb-".concat(e.id)},n.createElement("button",{onClick:function(){return r(e,!0)},className:c},i),n.createElement("span",{className:s},o===t.length-2&&n.createElement("button",{className:"Breadcrumbs-divider--points","aria-label":e.name,onClick:function(){return r(e,!0)}},"..."),"/"))})))};function dt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){if(e){if("string"==typeof e)return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}mt.propTypes={breadcrumb:oe().array,changeFolder:oe().func};var ht=function(e){var t=e.files,r=(0,ue.$)().t,a=pt((0,n.useState)(t),2),o=a[0],i=a[1],l=pt((0,n.useState)(""),2),c=l[0],s=l[1],u=pt((0,n.useState)([t]),2),f=u[0],m=u[1],d=pt((0,n.useState)([]),2),p=d[0],y=d[1],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var r=f.findIndex((function(t){return t.id===e.id})),n=dt(f).splice(0,r+1);m(n)}else m([].concat(dt(f),[e]));i(e),s("")};return n.createElement("div",{className:"FilesTree"},n.createElement("div",{className:"FilesTree-head"},n.createElement(mt,{breadcrumb:f,changeFolder:v}),n.createElement("a",{href:t.zip_url,target:"_blank",download:!0,className:"FilesTree-download","data-testId":"FilesTree-download"},n.createElement(pe.G,{className:"FilesTree-download-icon",icon:ve.q7m}),n.createElement("p",{className:"FilesTree-download-text"},r("materialView.tabs.downloadAll")))),n.createElement("div",{className:"FilesTree-items"},Object.entries(o.childNodes).map((function(e,t){return"folder"===e[1].type?function(e,t){return n.createElement("button",{className:"FilesTree-folder",onClick:function(){v(e)},key:"folder-".concat(e.id,"-").concat(t)},n.createElement(pe.G,{icon:he.Pk}),n.createElement("p",{className:"FilesTree-name"},e.name))}(e[1],t):n.createElement(ft,{file:e[1],currentPreview:c,previews:p,setPreviews:y,key:t,setCurrentPreview:s})}))))};function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ht.propTypes={files:oe().shape({id:oe().string,name:oe().string,type:oe().string,zip_url:oe().string,childNodes:oe().object})};var wt="folder",Et=function(e){var t=(0,ue.$)().t,r=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),a=bt((0,n.useState)(!0),2),o=a[0],i=a[1],l=bt((0,n.useState)([]),2),s=l[0],u=l[1],f=bt((0,n.useState)([]),2),m=f[0],d=f[1];(0,n.useEffect)((function(){(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pe(!0,{headers:{"api-is-logged":n}}).get(xe(e,t,r)).then((function(e){return e.data}))})(e.courseSlug,e.materialId,e.materialSlug,r).then((function(e){u(e.files),d(e.links),i(!1)})).catch((function(e){throw i(!1),new Error(e)}))}),[]);return n.createElement("div",{className:"FilesAndLinks"},o?n.createElement("div",{className:"FilesAndLinks-mock"},n.createElement("div",{className:"FilesAndLinks-mock--title"}),n.createElement("div",{className:"FilesAndLinks-mock--line"}),n.createElement("div",{className:"FilesAndLinks-mock--line"})):n.createElement(n.Fragment,null,(s.length>0||s.type===wt)&&n.createElement("h4",{className:"FilesAndLinks-title"},t("materialView.tabs.filesTitle")),n.createElement("div",null,s.type===wt?n.createElement(ht,{files:s}):s.map((function(e){return n.createElement("a",{href:e.zip_url,target:"_blank",download:e.name,className:"FilesAndLinks-item",key:e.id},n.createElement("div",null,n.createElement(pe.G,{className:"FilesAndLinks-item--type",icon:we(e.extension),size:"lg"}),e.name),n.createElement(pe.G,{className:"FilesAndLinks-item--download",icon:ye.q7m}))}))),m.length>0&&n.createElement("h4",{className:"FilesAndLinks-title"},t("materialView.tabs.linksTitle")),n.createElement("div",null,m.map((function(e,t){return n.createElement("a",{className:"FilesAndLinks-item",key:"link-".concat(t),href:e.link,onClick:(e.link,function(){return!0}),target:"_blank"},n.createElement("div",{className:"FilesAndLinks-item--link"},""!==e.favicon?n.createElement("figure",{className:"FilesAndLinks-item--favicon"},n.createElement("img",{src:"https://www.google.com/s2/favicons?domain=".concat(e.favicon),alt:"",loading:"lazy"})):n.createElement(pe.G,{icon:ye.nNP,className:"FilesAndLinks-item--favicon FilesAndLinks-item--favicon--default"}),n.createElement("div",null,n.createElement("p",null,e.title),n.createElement("p",{className:"FilesAndLinks-item--url"},e.link))),n.createElement(pe.G,{className:"FilesAndLinks-item--download",icon:ye.gJF}))})))))};function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Et.propTypes={courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string};var _t=function(e){var t=(0,ue.$)().t,r=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),a=St((0,n.useState)(!0),2),o=a[0],i=a[1],l=St((0,n.useState)([]),2),s=l[0],u=l[1];(0,n.useEffect)((function(){(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pe(!0,{headers:{"api-is-logged":n}}).get(Me(e,t,r)).then((function(e){return e.data}))})(e.courseSlug,e.materialId,e.materialSlug,r).then((function(e){u(e.blockedInfo?[]:e),i(!1)})).catch((function(e){throw i(!1),new Error(e)}))}),[]);return n.createElement("div",{className:"RecommendedClasses"},o?n.createElement("div",{className:"RecommendedClasses-grid"},n.createElement("div",{className:"RecommendedClasses-card RecommendedClasses-mock--animated"}),n.createElement("div",{className:"RecommendedClasses-card RecommendedClasses-mock--animated"})):n.createElement(n.Fragment,null,s.length>0&&n.createElement("h4",{className:"RecommendedClasses-title"},t("materialView.tabs.classesTitle")),n.createElement("div",{className:"RecommendedClasses-grid"},null==s?void 0:s.map((function(e,t){return n.createElement("a",{className:"RecommendedClasses-card RecommendedClasses-link",key:"link-".concat(t),href:e.materialUrl,onClick:(e.materialUrl,function(){return!0}),target:"_blank"},n.createElement("figure",{className:"RecommendedClasses-card--thumbnail"},n.createElement("img",{src:e.thumbnail,alt:e.name,loading:"lazy"})),n.createElement("div",{className:"RecommendedClasses-card--content"},n.createElement("p",{className:"RecommendedClasses-card--title"},e.name),n.createElement("div",{className:"RecommendedClasses-card--course"},n.createElement("figure",{className:"RecommendedClasses-card--badge"},n.createElement("img",{src:e.courseBadge,alt:e.courseTitle,loading:"lazy"})),n.createElement("p",{className:"RecommendedClasses-card--text"},e.courseTitle))))})))))};function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}_t.propTypes={courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string};var It=function(e){var t=(0,ue.$)().t,r=Ot((0,n.useState)(""),2),a=r[0],o=r[1],i=Ot((0,n.useState)(""),2),l=i[0],c=i[1],s=Ot((0,n.useState)(""),2),u=s[0],f=s[1],m=(0,n.useRef)();return n.createElement("div",{className:"Links-formContainer"},n.createElement("form",{className:"Links-upload",ref:m,onSubmit:function(t){t.preventDefault();var r=m.current,n=new FormData(r);n.append("materials",e.materialId),tt(n).then((function(e){c(e.message),f("success"),setTimeout((function(){c(""),o("")}),1e3)})).catch((function(e){var t,r;c(null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message),f("error")}))}},n.createElement("div",{className:"Links-inputContainer"},n.createElement("input",{type:"url",name:"link",className:"Links-input",placeholder:t("materialView.addLink.placeholder"),value:a,onChange:function(e){o(e.target.value),c("")}})),n.createElement("button",{type:"submit",className:"Links-submit"},t("materialView.addLink.submit"))),n.createElement("p",{className:"Links-message ".concat(u)},l))};function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}It.propTypes={materialId:oe().string};var Pt=function(e){var t=(0,ue.$)().t,r=(0,n.useRef)(),a=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),o=Nt((0,n.useState)(""),2),i=o[0],l=o[1],s=Nt((0,n.useState)(!1),2),u=s[0],f=s[1],m=Nt((0,n.useState)(t("materialView.uploadFiles.initialMessage")),2),d=m[0],p=m[1],y=function(e){e.preventDefault(),e.stopPropagation(),l("hover")},v=function(e){e.preventDefault(),e.stopPropagation(),u||l("")},h=function(r,n){r.preventDefault(),r.stopPropagation();var o=new FileReader;"drop"===n&&(o.fileData=r.dataTransfer.files[0]),"browse"===n&&(o.fileData=r.target.files[0]),o.fileData&&(o.onloadend=function(r){var n=new FormData;n.append("dataUrl",r.target.result),n.append("name",o.fileData.name),n.append("extension",o.fileData.type),n.append("material_id",e.materialId),n.append("course_id",a),p("".concat(t("materialView.uploadFiles.uploading")," ").concat(o.fileData.name)),b(n)},o.readAsDataURL(o.fileData))},b=function(e){f(!0),l("uploading"),rt(e).then((function(e){l("success"),p(e.message)})).catch((function(e){var t,r;p((null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error"),l("error"),f(!1)})).finally((function(){setTimeout((function(){p(t("materialView.uploadFiles.initialMessage")),l(""),f(!1)}),2e3)}))};return n.createElement(n.Fragment,null,n.createElement("div",{className:"UploadFiles-dragAndDropZone ".concat(i),onDragOver:y,onDrop:function(e){return h(e,"drop")},onDragLeave:v,onMouseEnter:y,onMouseLeave:v,onClick:function(e){e.preventDefault(),r.current.click()},onKeyDown:function(){},role:"button",tabIndex:0},n.createElement(pe.G,{icon:ye.t1$}),n.createElement("span",{className:"UploadFiles-message"},d)),n.createElement("input",{className:"UploadFiles-fileInput",type:"file",name:"file",onChange:function(e){return h(e,"browse")},ref:r}))};function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Pt.propTypes={materialId:oe().string};var At=function(e){var t=(0,ue.$)().t,r=Ct((0,n.useState)("/"),2),a=r[0],o=r[1],i=(0,c.v9)((function(e){return e.get("contactInfo").get("isOrganizer")}));return(0,n.useEffect)((function(){if("undefined"!=typeof window){var e=window.location.pathname.split("/");e.splice(2,-1,"old"),o(e.join("/"))}}),[]),n.createElement("div",{className:"Resources"},n.createElement("div",{className:"Resources-description",dangerouslySetInnerHTML:{__html:e.content}}),i&&n.createElement(n.Fragment,null,n.createElement("a",{className:"Resources-admin-link",href:a},n.createElement(pe.G,{icon:ye.X7o}),t("materialView.resources.goToOldAdmin")),n.createElement("div",{className:"Resources-description",dangerouslySetInnerHTML:{__html:e.adminContent}}),n.createElement("h3",{className:"Header-uploads"},t("materialView.uploadFilesAndLinks.header")),n.createElement(It,{materialId:e.materialId}),n.createElement(Pt,{materialId:e.materialId})),n.createElement(Et,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug}),n.createElement(_t,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug}))};At.propTypes={content:oe().string,courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string,adminContent:oe().string};var Mt=function(e){return{type:h,payload:e}},Bt=function(e){return{type:K,payload:e}},Lt=function(e){return{type:Y,payload:e}},Vt=function(e){return{type:S,payload:e}},Rt=function(e){return{type:_,payload:e}},Dt=function(e){return{type:M,payload:e}},Ut=function(e){return{type:D,payload:e}},Ft=function(e){return{type:U,payload:e}},Gt=function(e){return{type:z,payload:e}},qt=function(e){return{type:H,payload:e}},zt=function(e){return{type:W,payload:e}},$t=function(e){return{type:J,payload:e}},Ht=function(e){var t=parseInt(e/60,10),r=parseInt(e%60,10);return t=t<10?"0".concat(t):t,r=r<10?"0".concat(r):r,"".concat(t,":").concat(r)},Wt=r(47740),Jt=r(26993);function Kt(e){var t=e.open,r=e.onClose,a=e.onDelete,o=(0,ue.$)().t;return n.createElement(se.e,{portalId:"bookmark-delete-dialog",show:t,close:r},n.createElement(se.c,{closeModal:r},n.createElement("div",{className:"BookmarkDeleteDialog"},n.createElement("div",{className:"BookmarkDeleteDialog__Content"},n.createElement("h3",{className:"BookmarkDeleteDialog__Title","data-trans":"materialView.bookmarks.delete.dialog.title"},o("materialView.bookmarks.delete.dialog.title")),n.createElement("p",{className:"BookmarkDeleteDialog__Message","data-trans":"materialView.bookmarks.delete.dialog.message"},o("materialView.bookmarks.delete.dialog.message"))),n.createElement("div",{className:"BookmarkDeleteDialog__Actions"},n.createElement(Jt.B,{customClass:"BookmarkDeleteDialog__CancelButton",onClick:r},o("materialView.bookmarks.delete.dialog.cancel")),n.createElement(Jt.B,{customClass:"BookmarkDeleteDialog__DeleteButton",onClick:a},o("materialView.bookmarks.delete.dialog.confirm"))))))}Kt.propTypes={onClose:oe().func.isRequired,onDelete:oe().func.isRequired,open:oe().bool.isRequired};var Yt=["isNew"];function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qt.apply(this,arguments)}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var tr=function(e){var t=e.onDelete,r=(0,ue.$)().t;return n.createElement("button",{className:"BookmarkForm__DeleteButton",type:"button",onClick:t},n.createElement("span",null,r("materialView.bookmarkForm.buttonDelete")),n.createElement("span",{className:"BookmarkForm__DeleteIcon"},n.createElement(pe.G,{icon:ye.XAH})))};tr.propTypes={onDelete:oe().func.isRequired};var rr=function(e){var t=e.onCancel;return n.createElement("button",{type:"button",className:"BookmarkForm__CloseButton",onClick:t},n.createElement(pe.G,{icon:he.YIN}))};rr.propTypes={onCancel:oe().func.isRequired};var nr=function(e){var t=e.isNew,r=er(e,Yt),a=(0,ue.$)().t,o=Xt((0,n.useState)(!1),2),i=o[0],l=o[1],c=(0,le.u)(r.bookmarkDescription),s=Xt((0,n.useState)(r.isPrivate),2),u=s[0],f=s[1],m=(0,le.a)().width<d.qY,p=me()("BookmarkForm-head-radio-mark",{"is-private":!u}),y=t?m?"materialView.bookmarkForm.title.mobile":"materialView.bookmarkForm.title":"materialView.bookmarkForm.title.edit";return n.createElement("div",{className:"BookmarkForm"},n.createElement(Wt.C,{customClass:"BookmarkForm-card"},n.createElement("div",{className:"BookmarkForm-head"},n.createElement("div",{className:"BookmarkForm__EditIcon"},n.createElement(pe.G,{icon:he.E8Q})),n.createElement("p",{"data-trans":y},a(y)),t?n.createElement(rr,{onCancel:r.onCancel}):n.createElement(tr,{onDelete:function(){l(!0)}})),n.createElement("div",{className:"BookmarkForm__Content"},n.createElement("span",{className:"BookmarkForm__Time"},"".concat(Ht(t?r.currentTime:r.bookmarkTime)," -")),n.createElement("textarea",Qt({autoFocus:!0,className:"BookmarkForm-card-textarea",maxLength:"520"},c))),n.createElement("div",{className:"BookmarkForm__Footer"},n.createElement("div",{className:"BookmarkForm__Sharing"},n.createElement("label",{className:"BookmarkForm-head-radio",htmlFor:"bookmark-state"},n.createElement("span",{className:p},u?null:n.createElement("div",{className:"BookmarkForm-head-radio-check"})),n.createElement("input",{id:"bookmark-state",type:"checkbox",checked:u,onClick:function(){return f(!u)}})),n.createElement("span",{className:"BookmarkForm__ShareText"},a("materialView.bookmarkForm.share-community"))),n.createElement("div",{className:"BookmarkForm-actions"},n.createElement("button",{className:"BookmarkForm-actions-button",type:"button",onClick:r.onCancel,"data-trans":"materialView.bookmarkForm.buttonCancel"},a("materialView.bookmarkForm.buttonCancel")),n.createElement("button",{className:"BookmarkForm-actions-save",type:"button",onClick:function(){r.onSubmit({description:c.value,private:u})}},a(t?"materialView.bookmarkForm.buttonSave":"materialView.bookmarkForm.save-changes"))))),n.createElement(Kt,{open:i,onClose:function(){l(!1)},onDelete:function(){l(!1),r.onDelete()}}))};function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}nr.propTypes={onCancel:oe().func,onSubmit:oe().func,onDelete:oe().func,isNew:oe().bool,isPrivate:oe().bool,currentTime:oe().number,bookmarkDescription:oe().string,bookmarkTime:oe().string},nr.defaultProps={onCancel:function(){},onSubmit:function(){},onDelete:function(){},isNew:!1,isPrivate:!0,currentTime:0,bookmarkDescription:"",bookmarkTime:""};var ir=function(e){var t=(0,c.I0)(),r=(0,ue.$)().t,a=ar((0,n.useState)(!1),2),o=a[0],i=a[1],l=function(){i(!1)},s=function(r){r.preventDefault(),r.stopPropagation(),t(Vt(e.time));var n=document.querySelector(".MaterialView-video");n&&n.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){return t(Vt(null))}),10)};return n.createElement("div",{className:"BookmarkItem"},o?n.createElement(nr,{onSubmit:function(r){var n,a,o=new FormData;o.append("time",e.time),o.append("description",r.description),o.append("private",r.private),(n=e.id,a=o,Pe(!0).post(Ae.edit(n),a).then((function(e){return e.data}))).then((function(){var n={id:e.id,time:e.time,description:r.description,edited:!1,private:r.private};t(function(e){return{type:w,payload:e}}(n)),l()})).catch((function(e){throw new Error(e)}))},onCancel:l,onDelete:function(){var r;(r=e.id,Pe(!0).post(Ae.delete(r)).then((function(e){return e.data}))).then((function(){t(function(e){return{type:E,payload:e}}(e.id)),l()})).catch((function(e){throw new Error(e)}))},bookmarkDescription:e.description,bookmarkTime:e.time,isPrivate:e.private}):n.createElement("div",{className:"BookmarkItem-item",onClick:s},n.createElement("div",{className:"BookmarkItem-item-content"},n.createElement("div",{className:"BookmarkItem__PenLineIcon"},n.createElement(pe.G,{icon:ye.E8Q})),n.createElement("button",{className:"BookmarkItem-button",type:"button",onClick:s},n.createElement("p",{className:"BookmarkItem-button-description"},n.createElement("span",{className:"BookmarkItem-button-time"},Ht(e.time)," - "),e.description))),n.createElement("div",{className:"BookmarkItem-item-actions"},n.createElement("div",null,n.createElement("button",{className:"BookmarkItem__EditButton",type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),i(!0)}},n.createElement("span",{className:"BookmarkItem-item-actions-icon"},n.createElement(pe.G,{icon:ye.TzT})),n.createElement("span",{className:"BookmarkItem-item-actions-text","data-trans":"materialView.bookmarks.edit"},r("materialView.bookmarks.edit")))),n.createElement("div",null,n.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),t.stopPropagation();var r={id:e.id,time:e.time,description:e.description,private:e.private};e.onShareClick(r)}},n.createElement("span",{className:"BookmarkItem-item-actions-icon"},n.createElement(pe.G,{icon:ye.M6U})),n.createElement("span",{className:"BookmarkItem-item-actions-text","data-trans":"materialView.bookmarks.share"},r("materialView.bookmarks.share")))))))};ir.propTypes={id:oe().number,description:oe().string,edited:oe().bool,private:oe().bool,time:oe().number,materialId:oe().string,onShareClick:oe().func.isRequired},ir.defaultProps={};var lr=null;const cr={connect:function(e){lr=e},getVideoPlayer:function(){return lr}};function sr(e,t){return(0,c.v9)((function(r){try{return e(r)}catch(e){return t}}))}function ur(e){var t=e.className,r=e.onClick,a=e.children,o=(0,c.I0)(),i=sr((function(e){return e.get("header").get("isLogged")}),!1);if(sr((function(e){return e.get("videoPlayer").get("freeAccess")}),!1)||!i)return null;return n.createElement(Jt.B,{customClass:t,onClick:function(e){e.preventDefault();var t=cr.getVideoPlayer();t&&(t.player.pause(),o(Mt(!0))),r&&r(e)}},a)}function fr(){var e=(0,ue.$)().t;return n.createElement("div",{className:"NoBookmarks"},n.createElement("h6",{className:"NoBookmarks-title","data-trans":"materialView.bookmarks.title"},e("materialView.bookmarks.title")),n.createElement("p",{className:"NoBookmarks-text","data-trans":"materialView.bookmarks.textOne"},e("materialView.bookmarks.textOne")),n.createElement("p",{className:"NoBookmarks-text","data-trans":"materialView.bookmarks.textTwo"},e("materialView.bookmarks.textTwo")),n.createElement("div",{className:"NoBookmarks-actions"},n.createElement(ur,{className:"NoBookmarks-actions-create"},e("materialView.bookmarks.create"))))}function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mr.apply(this,arguments)}ur.propTypes={className:oe().string,onClick:oe().func,children:oe().oneOfType([oe().node,oe().arrayOf(oe().node)])};var dr=function(e){var t,r,a=(0,c.I0)(),o=(0,c.v9)((function(e){return e.get("videoPlayer").get("bookmarks")})),i=(0,c.v9)((function(e){return e.get("videoPlayer").get("newBookmark")}));if(o=o?o.toJS():["empty"],(0,n.useEffect)((function(){var t,r,n;"empty"===o[0]&&(t=e.courseSlug,r=e.materialId,n=e.materialSlug,Pe(!0).get(Ae.get(t,r,n)).then((function(e){return e.data}))).then((function(e){a({type:b,payload:e})})).catch((function(e){throw new Error(e)}))}),[]),"empty"===o[0])return n.createElement("div",{className:"Bookmarks-mock"},n.createElement("div",{className:"Bookmarks-mock--line"}),n.createElement("div",{className:"Bookmarks-mock--line"}));var l=function(e){var t=cr.getVideoPlayer();t&&t.player.pause(),a(Lt(e)),a(Bt(!0))};return n.createElement("div",{className:"Bookmarks"},!i&&0===o.length&&n.createElement(fr,null),!(null!==(t=o)&&void 0!==t&&null!==(r=t.blockedInfo)&&void 0!==r&&r.blocked)&&o.map((function(t,r){return n.createElement(ir,mr({key:"index-".concat(r),materialId:e.materialId,onShareClick:l},t))})))};function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function yr(e){var t=e.constructor();if(null==e||"object"!==pr(e))return e;for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function vr(e,t){return(1*(e=e.split("."))[1]||0)+1e3*((e=e[0].split(":"))[2]?3600*e[0]+60*e[1]+1*e[2]:e[1]?60*e[0]+1*e[1]:1*e[0])}dr.propTypes={courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string},dr.defaultProps={};var hr=function(e){var t=(0,ue.$)().t,r=(0,c.v9)((function(e){return e.get("videoPlayer").get("currentTime")})),a=me()("TranscriptItem",{isActive:e.start/1e3<r&&e.end/1e3>r});return e.end/1e3<r?null:n.createElement("div",{className:a},n.createElement("button",{className:"TranscriptItem-item",type:"button",onClick:function(){return e.goToTimeOnVideo(e.start/1e3)}},n.createElement("span",{className:"TranscriptItem-item-time"},Ht(e.start/1e3)),n.createElement("p",{className:"TranscriptItem-item-content"},e.part)),n.createElement("div",{className:"TranscriptItem-button"},n.createElement("button",{type:"button",onClick:function(){return e.reportIssue(e.index)},"aria-label":t("materialView.TranscriptItem.reportIssue")},n.createElement(pe.G,{icon:he.RrC}),n.createElement("div",{className:"TranscriptItem-tooltip"},n.createElement("p",null,t("materialView.TranscriptItem.reportIssue"))))))};function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},br.apply(this,arguments)}hr.propTypes={index:oe().number,start:oe().number,end:oe().number,part:oe().string,goToTimeOnVideo:oe().func,reportIssue:oe().func},hr.defaultProps={goToTimeOnVideo:function(){},reportIssue:function(){}};var gr=function(e){var t=(0,ue.$)().t,r=(0,le.u)("");(0,n.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){document.removeEventListener("keydown",a,!1)}}),[]);var a=function(t){27===t.keyCode&&e.close()};return n.createElement("div",{className:"TranscriptReport"},n.createElement("button",{className:"TranscriptReport-backdrop",onClick:e.close}),n.createElement(Wt.C,{customClass:"TranscriptReport-modal"},n.createElement("div",{className:"TranscriptReport-closeModal"},n.createElement("button",{type:"button",onClick:e.close,"aria-label":"Close Modal"},n.createElement(pe.G,{icon:ye.NBC}))),n.createElement("div",{className:"TranscriptReport-content"},n.createElement("div",{className:"TranscriptReport-title"},e.reportSent?n.createElement("div",{className:"TranscriptReport-title-thanks"},n.createElement(pe.G,{icon:ye.LEp})):n.createElement("div",{className:"TranscriptReport-title-icon"},n.createElement(pe.G,{icon:ye.RrC})),n.createElement("div",{className:"TranscriptReport-title-text"},e.reportSent?n.createElement(n.Fragment,null,n.createElement("h6",null,t("materialView.TranscriptReport.titleThanks")),n.createElement("p",null,t("materialView.TranscriptReport.messageThanks"))):n.createElement(n.Fragment,null,n.createElement("h6",null,t("materialView.TranscriptReport.title")),n.createElement("p",null,t("materialView.TranscriptReport.message"))))),!e.reportSent&&n.createElement("div",{className:"TranscriptReport-transcript"},n.createElement("p",null,e.subtitle)),!e.reportSent&&n.createElement("textarea",br({className:"TranscriptReport-input",placeholder:t("materialView.TranscriptReport.placeholder")},r))),n.createElement("div",{className:"TranscriptReport-buttons"},e.reportSent?n.createElement("button",{type:"button",className:"TranscriptReport-buttons-copy",onClick:e.close},t("materialView.TranscriptReport.buttonReturn")):n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"TranscriptReport-buttons-copy",onClick:function(){e.onSubmit(r.value)}},t("materialView.TranscriptReport.buttonSend")),n.createElement("button",{type:"button",className:"TranscriptReport-buttons-cancel",onClick:e.close},t("materialView.TranscriptReport.buttonCancel"))))))};function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wr.apply(this,arguments)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}gr.propTypes={close:oe().func,onSubmit:oe().func,reportSent:oe().bool,subtitle:oe().string},gr.defaultProps={close:function(){},onSubmit:function(){},reportSent:!1};var kr=function(e){var t=(0,ue.$)().t,r=(0,c.I0)(),a=(0,c.v9)((function(e){return e.get("contactInfo").get("isOrganizer")})),o=Er((0,n.useState)("time"),2),i=o[0],l=o[1],s=Er((0,n.useState)([]),2),u=s[0],f=s[1],m=Er((0,n.useState)(!1),2),d=m[0],p=m[1],y=Er((0,n.useState)(!1),2),v=y[0],h=y[1],b=Er((0,n.useState)({}),2),g=b[0],w=b[1];(0,n.useEffect)((function(){var t;(t=e.source,Pe().get(t).then((function(e){return e.data}))).then((function(e){var t;(t=e,new Promise((function(e,r){var n=t.split("\n"),a=[],o={},i=!1;n.forEach((function(e,t){-1!==e.indexOf("--\x3e")?(i=!0,o.start&&""!==o.part&&a.push(yr(o)),o={start:vr(e.split("--\x3e")[0].trimRight().split(" ").pop()),end:vr(e.split("--\x3e")[1].trimLeft().split(" ").shift()),part:""}):i&&(0!==a.length?a[a.length-1].part.replace(/<\/?[^>]+(>|$)/g,"")===e.replace(/<\/?[^>]+(>|$)/g,"")||(0===o.part.length?o.part=e:o.part="".concat(o.part," ").concat(e),t===n.length-1&&a.push(yr(o))):(o.part=e,a.push(yr(o)),o.part=""))})),a.forEach((function(e){e.part=e.part.replace(/<\/?[^>]+(>|$)/g,"")})),e(a)}))).then((function(e){return f(e)}))})).catch((function(e){throw new Error(e)}))}),[]);var E=function(e){r(Vt(e))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&w(u[e]),r(Dt(d)),p(!d),h(!1)},k=function(e){return l(e)},_=me()("Transcript-header-viewBy",{"is-active":"time"===i}),O=me()("Transcript-header-viewBy",{"is-active":"text"===i});return n.createElement("div",{className:"Transcript"},n.createElement("div",{className:"Transcript-header"},n.createElement("div",{className:"Transcript-header-actions"},n.createElement("span",null,t("materialView.Transcript.view")),n.createElement("button",{className:_,type:"button",onClick:function(){return k("time")}},t("materialView.Transcript.time")),n.createElement("button",{className:O,type:"button",onClick:function(){return k("text")}},t("materialView.Transcript.text"))),a&&n.createElement("a",{className:"Transcript-header-editTranscript",href:"?"},t("materialView.Transcript.editTranscript"))),n.createElement("div",{className:"Transcript-body"},"time"===i?n.createElement("div",{className:"Transcript-time"},u.map((function(e,t){return n.createElement(hr,wr({key:"index-".concat(t),goToTimeOnVideo:E,reportIssue:S,index:t},e))}))):n.createElement("div",{className:"Transcript-text"},u.map((function(e,t){return n.createElement("p",{key:"index-".concat(t)},e.part)})))),d&&n.createElement(gr,{close:S,onSubmit:function(t){var r,n={materialId:e.materialId,lang:e.language,time:g.start,oldText:g.part,newText:t};(r=n,Pe(!0).post(Be(r.materialId),{srclang:r.lang,time:r.time,old_text:r.oldText,new_text:r.newText}).then((function(e){return e.data}))).then((function(){h(!0)})).catch((function(e){throw new Error(e)}))},reportSent:v,subtitle:g.part}))};kr.propTypes={source:oe().string,language:oe().string,materialId:oe().string},kr.defaultProps={};var _r=r(96486);function Or(e){return function(e){if(Array.isArray(e))return Nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ir(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||Ir(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){if(e){if("string"==typeof e)return Nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nr(e,t):void 0}}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tr=function(e){var t=jr((0,n.useState)(e.enabled),2),r=t[0],a=t[1];(0,n.useEffect)((function(){if(r!==e.enabled&&a(e.enabled),null!==e.scrollParent)if(e.scrollParent)e.scrollParent.addEventListener("scroll",o());else if(e.domRefference){document.querySelector(e.domRefference).addEventListener("scroll",o())}return function(){var t=e.scrollParent,r=e.domRefference;if(t&&null!==t)if(t)t.removeEventListener("scroll",o());else if(r){document.querySelector(r).removeEventListener("scroll",o())}}}),[e.enabled,e.scrollParent]),(0,n.useEffect)((function(){e.fetchElements(!1)}),Or(e.hooksDependencies));var o=function(){return e.debounced?l:i},i=function(t){e.enabled&&c(t)},l=(0,_r.debounce)(i,e.delay),c=function(t){if(e.reverted){e.scrollParent.scrollHeight-e.scrollParent.scrollTop>.7*e.scrollParent.scrollHeight&&e.fetchElements()}else{e.scrollParent.scrollTop>.7*e.scrollParent.scrollHeight&&e.fetchElements()}};return n.createElement("div",{className:"InfinityScrollLayout"},e.children)};Tr.propTypes={debounced:oe().bool,delay:oe().number,enabled:oe().bool,scrollParent:oe().object,children:oe().array.isRequired,fetchElements:oe().func.isRequired,scrollLimiter:oe().number,domRefference:oe().string,reverted:oe().bool,hooksDependencies:oe().array},Tr.defaultProps={debounced:!1,delay:0,enabled:!1,scrollLimiter:.7,scrollParent:"undefined"!=typeof window?window:null,domRefference:"",reverted:!1,hooksDependencies:[]};var Pr=function(e){var t=(0,ue.$)().t;return n.createElement("div",{className:"OrderBy"},n.createElement("span",{className:"OrderBy-text"},t("materialView.orderBy")),e.filters.map((function(t,r){return n.createElement("button",{className:e.orderBy===t.value?"OrderBy-button is-active":"OrderBy-button",key:"filter-".concat(r),type:"button",onClick:function(){return e.setOrderBy(t.value)}},t.label)})))};Pr.propTypes={filters:oe().array,orderBy:oe().string,setOrderBy:oe().func},Pr.defaultProps={filters:[],orderBy:"top",setOrderBy:function(){}};var Cr=function(e){return n.createElement("span",{className:"radio is-".concat(e.color," ").concat(e.className)},n.createElement("input",{type:"radio",name:e.name,value:e.value,id:e.id,defaultChecked:e.defaultChecked,className:"form-control radio-input",onChange:e.onChange}),n.createElement("label",{htmlFor:e.id,className:"radio-label ".concat(e.labelClass)},e.label))};Cr.propTypes={name:oe().string.isRequired,value:oe().oneOfType([oe().string,oe().bool]),id:oe().string.isRequired,label:oe().string.isRequired,labelClass:oe().string,onChange:oe().func,defaultChecked:oe().bool,className:oe().string,color:oe().string},Cr.defaultProps={defaultChecked:!1,color:"green",labelClass:""};var xr=r(91768),Ar=r(8514);const Mr=function(){return!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)};var Br={0:"unk",1:"mouse1",2:"mouse2",3:"break",4:"mouse3",5:"mouse4",6:"mouse5",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",21:"imehangul",23:"imejunja",24:"imefinal",25:"imekanji",27:"escape",28:"imeconvert",29:"imenonconvert",30:"imeaccept",31:"imemodechange",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",41:"select",42:"print",43:"execute",44:"snapshot",45:"insert",46:"delete",47:"help",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:";",60:"<",61:"=",62:">",63:"?",64:"@",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",92:"meta",93:"menu",95:"sleep",96:"num0",97:"num1",98:"num2",99:"num3",100:"num4",101:"num5",102:"num6",103:"num7",104:"num8",105:"num9",106:"num*",107:"num+",108:"numenter",109:"num-",110:"num.",111:"num/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"f13",125:"f14",126:"f15",127:"f16",128:"f17",129:"f18",130:"f19",131:"f20",132:"f21",133:"f22",134:"f23",135:"f24",144:"numlock",145:"scrolllock",160:"shiftleft",161:"shiftright",162:"ctrlleft",163:"ctrlright",164:"altleft",165:"altright",166:"browserback",167:"browserforward",168:"browserrefresh",169:"browserstop",170:"browsersearch",171:"browserfavorites",172:"browserhome",173:"volumemute",174:"volumedown",175:"volumeup",176:"nexttrack",177:"prevtrack",178:"stop",179:"playpause",180:"launchmail",181:"launchmediaselect",182:"launchapp1",183:"launchapp2",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"meta",224:"meta",226:"altgr",229:"imeprocess",231:"unicode",246:"attention",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoom",252:"noname",253:"pa1",254:"clear"};const Lr=function(e){return Br[e]};var Vr=r(65297),Rr=r(98619),Dr=r.n(Rr);function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}const Fr=function(e){if("object"!==Ur(e))throw new TypeError("The field must be an object.");if(!(e instanceof Element))throw new TypeError("The field must be an instance of Element.");return{start:e.selectionStart,end:e.selectionEnd}};function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}const qr=function(e,t){if("string"!=typeof e)throw new TypeError("The content must be a string.");if("object"!==Gr(t))throw new TypeError("The selection must be an object.");if("number"!=typeof t.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof t.end)throw new TypeError("The selection end value must be a number.");return e.slice(t.start,t.end)};function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}const $r=function(e,t,r){if("string"!=typeof e)throw new TypeError("The content value must be a string.");if("object"!==zr(t))throw new TypeError("The selection must be an object.");if("number"!=typeof t.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof t.end)throw new TypeError("The selection end value must be a number.");if("string"!=typeof r)throw new TypeError("The updated content value must be a string.");return e.slice(0,t.start)+r+e.slice(t.end)};function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}const Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!e)return null;if("object"!==Hr(e))throw new TypeError("The selection must be an object.");if("number"!=typeof e.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof e.end)throw new TypeError("The selection end value must be a number.");if("object"!==Hr(t))throw new TypeError("The field must be an object.");if(!(t instanceof Element))throw new TypeError("The field must be an instance of Element.");if(t.setSelectionRange)return t.setSelectionRange(e.start,e.end),null;if(!t.createTextRange)return null;var r=t.createTextRange();return r.collapse(!0),r.moveStart("character",e.end),r.moveEnd("character",e.end),r.select(),null};function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}const Kr=function(e,t,r,n,a){if("string"!=typeof e)throw new TypeError("The selected content value must be a string.");if("object"!==Jr(t))throw new TypeError("The selection must be an object.");if("number"!=typeof t.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof t.end)throw new TypeError("The selection end value must be a number.");if("string"!=typeof r)throw new TypeError("The full content value must be a string.");if("object"!==Jr(n))throw new TypeError("The native event must be an object.");if("string"!=typeof a)throw new TypeError("The parsed content value must be a string.");return{selected:e,selection:t,full:r,native:n,parsed:a}};function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qr.apply(this,arguments)}function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){en(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function en(e,t,r){return(t=rn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rn(n.key),n)}}function rn(e){var t=function(e,t){if("object"!==Yr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yr(t)?t:String(t)}function nn(e,t){return nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nn(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=cn(e);if(t){var a=cn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return on(this,r)}}function on(e,t){if(t&&("object"===Yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nn(e,t)}(l,e);var t,r,a,o=an(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={content:e.defaultValue,expanded:!1,mode:e.defaultMode,uploading:!1,view:"field",writingEmoji:!1,emojiCode:""},t.id=t.props.id,t.handleInput=t.handleInput.bind(ln(t)),t.handleChangeView=t.handleChangeView.bind(ln(t)),t.handleKeyDown=t.handleKeyDown.bind(ln(t)),t.handleExpandClick=t.handleExpandClick.bind(ln(t)),t.handleContractClick=t.handleContractClick.bind(ln(t)),t.handleEditorClick=t.handleEditorClick.bind(ln(t)),t.handleScroll=t.handleScroll.bind(ln(t)),t.previewRef=t.previewRef.bind(ln(t)),t.handleEditorDrop=t.handleEditorDrop.bind(ln(t)),t.handleEmojiClick=t.handleEmojiClick.bind(ln(t)),t.parser=Dr()(e.markdown),t}return t=l,(r=[{key:"componentDidMount",value:function(){document.getElementById("textarea-".concat(this.id)).focus()}},{key:"componentDidUpdate",value:function(e,t){t.expanded!==this.state.expanded&&document.getElementById("textarea-".concat(this.id)).focus()}},{key:"clearContent",value:function(){this.setState({content:""}),this.props.isMain&&localStorage.removeItem("editor-".concat(window.location.href))}},{key:"handleInput",value:function(e){var t=this,r=e.target.value;this.setState((function(e){var n={content:r};if(t.props.emojiBar&&(r.lastIndexOf(":")===r.length-1&&(r.length-2<0||" "===r[r.length-2]||"\n"===r[r.length-2]||"\t"===r[r.length-2])&&(n.writingEmoji=!0),r.lastIndexOf(" ")!==r.length-1&&0!==r.length||(n.writingEmoji=!1,n.emojiCode=""),e.writingEmoji)){var a=r.split(":"),o=a[a.length-1];t.setState({emojiCode:o})}return n}),(function(){t.props.isMain&&localStorage.setItem("editor-".concat(window.location.href),r),t.handleChange(e)}))}},{key:"handleChangeView",value:function(e){var t=e.currentTarget.name;t&&this.setState({view:t})}},{key:"handleButtonTransform",value:function(e,t){var r=this;return function(e){e.persist();var n=r.props.features[t],a=Fr(r.domField),o=qr(r.state.content,a),i=n.updater(o,r.state.content,a),l=$r(r.state.content,a,i);r.setState({content:l},(function(){var t=r.domField.scrollTop;if(r.domField.focus(),r.domField.scrollTop=t,n.handler){var c=n.handler(Zr(Zr({},e),{},{content:l,field:r.domField,updated:i,selection:a,selected:o}));Wr(c,r.domField)}r.props.isMain&&localStorage.setItem("editor-".concat(window.location.href),l),r.props.onChange&&r.handleChange(e)}))}}},{key:"handleKeyDown",value:function(e){var t=this,r=e.keyCode||e.which;switch(Lr(r)){case"tab":e.preventDefault();var n=Fr(this.domField),a=n.start,o=n.end,i=this.state.content,l="".concat(i.substring(0,a),"\t").concat(i.substring(o));return this.setState({content:l},(function(){t.domField.selectionEnd=a+1}));case"escape":return this.state.expanded?(e.preventDefault(),this.handleContractClick()):e;case"b":if(Mr()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return e.preventDefault(),this.handleButtonTransform("bold")(e);case"e":if(Mr()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return this.state.expanded?e:(e.preventDefault(),this.handleExpandClick());case"i":if(Mr()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return e.preventDefault(),e.shiftKey?this.handleButtonTransform("image")(e):this.handleButtonTransform("italic")(e);case"k":if(Mr()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return e.preventDefault(),e.shiftKey?this.handleButtonTransform("code")(e):this.handleButtonTransform("link")(e);case"l":return!e.ctrlKey||e.altKey?e:(e.preventDefault(),this.handleButtonTransform("list")(e));case"q":return!e.cltrKey||e.altKey?e:(e.preventDefault(),this.handleButtonTransform("quote")(e));case"u":if(Mr()){if(!e.metaKey)return e}else if(!e.ctrlKey)return e;return e.preventDefault(),e.altKey?this.handleButtonTransform("strike")(e):this.handleButtonTransform("underline")(e);default:return e}}},{key:"handleExpandClick",value:function(){var e=this,t=0,r=0;return this.domField&&(t=this.domField.selectionStart,r=this.domField.selectionEnd),this.setState({expanded:!0}),document.body.setAttribute("style","height: 100vh; overflow: hidden;"),setTimeout((function(){Wr({start:t,end:r},e.domField),e.domField.scrollTop=0}),300)}},{key:"handleContractClick",value:function(){var e=this,t=0,r=0;return this.domField&&(t=this.domField.selectionStart,r=this.domField.selectionEnd),this.setState({expanded:!1}),document.body.removeAttribute("style"),setTimeout((function(){return Wr({start:t,end:r},e.domField)}),300)}},{key:"handleScroll",value:function(e){if(this.state.expanded||"wide"===this.state.mode){var t=e.target.scrollTop;this.previewNode.scrollTop=t}}},{key:"handleChange",value:function(e){if(!this.props.onChange)return null;var t=Fr(this.domField),r=qr(this.state.content,t);return this.props.onChange(Kr(r,t,this.state.content,e,this.parser(this.state.content,this.props.markdown)))}},{key:"handleEditorClick",value:function(e){var t=this;window.matchMedia("(min-width: 768px)").matches&&this.props.wideMode&&"normal"===this.state.mode&&this.setState({mode:"wide"},(function(){return t.domField.focus()})),this.props.onClick&&this.props.onClick(e)}},{key:"handleEditorDrop",value:function(e){var t=this;if(e.preventDefault(),this.state.uploading||0===e.dataTransfer.files.length)return null;var r=e.dataTransfer.files[0],n=new FormData;n.append("file",r);var a=r.name,o=Fr(this.domField),i="![".concat(this.props.messages.editor.uploading,"]()"),l=$r(this.state.content,o,i),c={start:o.start,end:o.end+i.length};return Wr(c,this.domField),this.setState({content:l,uploading:!0},(function(){return Pe(!0).post(Ue,n).then((function(r){var n=r.data.path,i="![".concat(a,"](").concat(n,")"),l=$r(t.state.content,c,i),s={start:o.start,end:o.end+i.length},u=qr(t.state.content,s);return Wr(s,t.domField),t.setState({content:l,uploading:!1},(function(){t.props.isMain&&localStorage.setItem("editor-".concat(window.location.href),l),t.props.onChange(Kr(u,s,t.state.content,e,t.parser(t.state.content,t.props.markdown)))}))})).catch((function(e){var r,n,a=(null==e||null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Extensin o tamao de archivo invlido",i="![".concat(a,"]()"),l=$r(t.state.content,c,i),s={start:o.start,end:o.end+i.length};return Wr(s,t.domField),t.setState({content:l,uploading:!1})}))}))}},{key:"handleEmojiClick",value:function(e){var t=this,r=e.currentTarget.dataset.code;this.setState((function(e){var t=(0,i.List)(e.content.split(":")).pop().push(r).toArray().join(":");return{content:"".concat(t,": "),emojiCode:"",writingEmoji:!1}}),(function(){var e=t.domField.scrollTop;t.domField.focus(),t.domField.scrollTop=e}))}},{key:"previewRef",value:function(e){this.previewNode=e}},{key:"domField",get:function(){return document.getElementById("textarea-".concat(this.id))}},{key:"field",get:function(){return this.state.expanded?n.createElement("textarea",Qr({},this.props.textarea,{className:"".concat(this.props.baseClass,"-field"),value:this.state.content,onChange:this.handleInput,onKeyDown:this.handleKeyDown,onScroll:this.handleScroll,id:"textarea-".concat(this.id),disabled:this.state.uploading,required:!0})):n.createElement(Ar.Z,Qr({},this.props.textarea,{className:"".concat(this.props.baseClass,"-field"),value:this.state.content,onChange:this.handleInput,onKeyDown:this.handleKeyDown,onScroll:this.handleScroll,id:"textarea-".concat(this.id),maxRows:10,disabled:this.state.uploading,required:!0}))}},{key:"preview",get:function(){return n.createElement("div",Qr({},this.props.preview,{ref:this.previewRef,className:"".concat(this.props.baseClass,"-preview ").concat(this.props.preview.className||""),dangerouslySetInnerHTML:{__html:this.parser(this.state.content)}}))}},{key:"fieldButton",get:function(){return this.props.buttons.field?"field"===this.state.view||this.state.expanded?null:n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-field"),onClick:this.handleChangeView,name:"field",type:"button",ref:"button-field",disabled:"field"===this.state.view},this.props.buttons.field)):null}},{key:"previewButton",get:function(){return this.props.buttons.preview?"preview"===this.state.view||this.state.expanded||"wide"===this.state.mode?null:n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-preview"),onClick:this.handleChangeView,name:"preview","aria-label":this.props.messages.actions.preview,type:"button",ref:"button-preview",disabled:"preview"===this.state.view},this.props.buttons.preview)):null}},{key:"expandButton",get:function(){return n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-expand"),onClick:this.handleExpandClick,name:"expand",type:"button","aria-label":this.props.messages.actions.expand,disabled:this.state.expanded},this.props.buttons.expand))}},{key:"contractButton",get:function(){return n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-contract"),onClick:this.handleContractClick,name:"contract",type:"button","aria-label":this.props.messages.actions.contract,disabled:!this.state.expanded},this.props.buttons.contract))}},{key:"buttons",get:function(){var e=this;return"preview"!==this.state.view||this.state.expanded?this.props.features.map((function(t,r){return n.createElement(n.Fragment,{key:t.featureName},n.createElement("button",{className:"".concat(e.props.baseClass,"-button ").concat(e.props.baseClass,"-button--").concat(t.featureName),onClick:e.handleButtonTransform(t.featureName,r),name:t.featureName,key:t.featureName,"aria-label":e.props.messages.actions[t.featureName],type:"button",ref:"button-".concat(t.featureName),disabled:"preview"===e.state.view},t.button),(2===r||5===r)&&n.createElement("div",{className:"".concat(e.props.baseClass,"-divider")}))})):null}},{key:"content",get:function(){if(this.state.expanded)return n.createElement("div",{className:"".concat(this.props.baseClass,"-expanded")},this.field,this.preview);if("wide"===this.state.mode)return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"".concat(this.props.baseClass,"-wide")},this.field,this.preview),n.createElement("div",{className:"".concat(this.props.baseClass,"-helpbar")},n.createElement("div",null,this.props.messages.helpbar.markdown),n.createElement("div",null,this.props.messages.helpbar.preview)));if("normal"===this.state.mode){if("preview"===this.state.view)return this.preview;if("field"===this.state.view)return this.field}return null}},{key:"emojiBar",get:function(){var e=this;if(!this.state.writingEmoji||this.state.emojiCode.length<2)return null;var t=(0,i.Map)(Vr);return n.createElement("section",{className:"".concat(this.props.baseClass,"-emojiBar ").concat(this.state.expanded&&"is-expanded")},t.filter((function(t,r){return 0===r.indexOf(e.state.emojiCode.toLowerCase())})).map((function(t,r){return n.createElement("button",{key:r,type:"button","data-code":r,className:"".concat(e.props.baseClass,"-emojiItem"),onClick:e.handleEmojiClick},t," ",n.createElement("code",{className:"".concat(e.props.baseClass,"-emojiCode")},":",r,":"))})).toArray())}},{key:"render",value:function(){return n.createElement("div",{className:"".concat(this.props.baseClass," ").concat(this.state.expanded&&"is-expanded"),onClick:this.handleEditorClick,onKeyPress:function(){},role:"button",tabIndex:"0",onDrop:this.handleEditorDrop,onDragOver:function(e){return e.preventDefault()}},n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar ").concat(this.state.expanded&&"is-expanded")},n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-left")},this.buttons),n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-right")},this.state.expanded?this.contractButton:this.expandButton,this.fieldButton)),this.content,this.props.title&&this.state.expanded&&n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar is-expanded is-bottom")},n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-left")}),n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-right")},n.createElement("strong",{style:{marginRight:".5em"}},this.props.messages.bottom.title),n.createElement("input",{className:"".concat(this.props.baseClass,"-title"),type:"text",value:this.props.title,name:"title",onChange:this.handleChange,disabled:!0}))),this.emojiBar)}}])&&tn(t.prototype,r),a&&tn(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);sn.propTypes={isMain:oe().bool,defaultValue:oe().string,baseClass:oe().string,title:oe().string,features:oe().array,textarea:oe().object,markdown:oe().object,preview:oe().object,onChange:oe().func,onClick:oe().func,ref:oe().func,defaultMode:oe().oneOf(["normal","wide"]),messages:oe().object,wideMode:oe().bool,emojiBar:oe().bool,storage:oe().string,onSubmit:oe().func,buttons:oe().object,tranformations:oe().object,handlers:oe().object,id:oe().string},sn.defaultProps={isMain:!1,defaultValue:"",baseClass:"PulseEditor",title:null,features:[],textarea:{},markdown:{},preview:{},onChange:null,onClick:null,ref:null,defaultMode:"normal",messages:{},wideMode:!1,emojiBar:!0,storage:"session",buttons:{},tranformations:{},handlers:{}};const un=sn;const fn=function(e,t,r,a,o,i){var l={isMain:!0,defaultValue:"",defaultMode:"normal",wideMode:!1,id:i,features:[{button:t.icons.bold,featureName:"bold",updater:function(e){return"**".concat(e,"**")},handler:function(e){return{start:2+e.selection.start,end:e.selection.end+2}},order:1,group:1},{button:t.icons.italic,featureName:"italic",updater:function(e){return"_".concat(e,"_")},handler:function(e){return{start:1+e.selection.start,end:e.selection.end+1}},order:2,group:1},{button:t.icons.underline,featureName:"underline",updater:function(e){return"++".concat(e,"++")},handler:function(e){return{start:2+e.selection.start,end:e.selection.end+2}},order:3,group:1},{button:t.icons.quote,featureName:"quote",updater:function(e,t,r){return t.length===r.start?"\n>":"> ".concat(e,"\n")},handler:function(e){return e.selected.length===e.selection.start?{start:e.selection.start+2,end:e.selection.end+2}:{start:2+e.selection.start,end:e.selection.end+2}},order:4,group:2},{button:t.icons.unorderedList,featureName:"list",updater:function(e,t,r){return 0===r.start?"- ".concat(e):"\n- ".concat(e)},handler:function(e){return 0===e.selection.start?{start:e.selection.start+2+e.selected.length,end:e.selection.end+2}:{start:e.selection.start+3+e.selected.length,end:e.selection.end+3}},order:5,group:2},{button:t.icons.orderedList,featureName:"listOrdered",updater:function(e,t,r){return 0===r.start?"1. ".concat(e):"\n1. ".concat(e)},handler:function(e){return 0===e.selection.start?{start:e.selection.start+3+e.selected.length,end:e.selection.end+3}:{start:e.selection.start+4+e.selected.length,end:e.selection.end+4}},order:6,group:2},{button:t.icons.code,featureName:"code",updater:function(e){return 0===e.length?"\n\n```\n<code> \n```\n":"```\n".concat(e,"\n```")},handler:function(e){return 0===e.selected.length?{start:5+e.selection.start+1,end:5+e.selection.end+8}:{start:e.selection.start+1,end:e.selection.end+1}},order:7,group:3},{button:t.icons.link,featureName:"link",updater:function(e){return"[".concat(e,"](url)")},handler:function(e){return{start:e.selection.start+e.selected.length+3,end:e.selection.end+6}},order:8,group:3},{button:t.icons.image,featureName:"image",updater:function(e){return"![](".concat(e||"url",")")},handler:function(e){return 0===e.selected.length?{start:e.selection.start+4,end:e.selection.end+3+4}:{start:e.selection.start+4+e.selected.length+1,end:e.selection.end+5}},order:9,group:3}],buttons:{field:t.icons.edit,preview:n.createElement("div",null,t.icons.preview,n.createElement("span",null,t.actions.preview)),expand:n.createElement("div",null,t.icons.preview,n.createElement("span",null,t.actions.preview)),contract:n.createElement("div",null,t.icons.contrac,n.createElement("span",null,t.actions.contract))},textarea:{placeholder:t.actions.questionPlaceholder},markdown:{highlight:function(e,t){return t&&ge().getLanguage(t)?ge().highlight(t,e).value:ge().highlightAuto(e).value}},preview:{className:"CommentContent-text"},onSubmit:r,onChange:a,ref:e,messages:t};return o&&(l.features.heading={button:n.createElement("span",{title:null==t?void 0:t.actions.title,"aria-label":null==t?void 0:t.actions.title,className:"fa fa-header"},null==t?void 0:t.actions.title),updater:function(e){return"#"!==e.charAt(0)?"## ".concat(e):"#"===e.charAt(5)?e:"#".concat(e)},handler:function(e){return"#"!==e.selected.charAt(0)?{start:e.selection.start,end:e.selection.end+3}:"#"===e.selected.charAt(5)?e.selection:{start:e.selection.start,end:e.selection.end+1}},order:10,group:3},l.features.youtube={button:n.createElement("span",{title:"Youtube","aria-label":"Youtube",className:"icon-youtube-play"}),updater:function(e){return e.length>0?"@[youtube](".concat(e,")"):"@[youtube](id|url)"},handler:function(e){return e.selected.length>0?{start:e.selection.start+11,end:e.selection.end+11}:{start:e.selection.start+11,end:e.selection.end+17}},order:11,group:3}),l};function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(this,arguments)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==mn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===mn(o)?o:String(o)),n)}var a,o}function vn(e,t){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vn(e,t)}function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wn(e);if(t){var a=wn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return bn(this,r)}}function bn(e,t){if(t&&("object"===mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gn(e)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vn(e,t)}(i,e);var t,r,a,o=hn(i);function i(){var e;pn(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bn(e,((e=o.call.apply(o,[this].concat(r))).handleEditorChange=function(t){e.props.setEditorValues({content:t.parsed,markDownContent:t.full})},e.setRef=function(t){e.editor=t},gn(e)))}return t=i,(r=[{key:"render",value:function(){var e=this.props.t,t={actions:{bold:e("materialView.editor.bold"),italic:e("materialView.editor.italic"),underline:e("materialView.editor.underline"),code:e("materialView.editor.code"),link:e("materialView.editor.link"),image:e("materialView.editor.image"),unorderedList:e("materialView.editor.unorderedList"),orderedList:e("materialView.editor.orderedList"),edit:e("materialView.editor.edit"),preview:e("materialView.editor.preview"),fullScreen:e("materialView.editor.fullScreen"),contract:e("materialView.editor.contract"),questionPlaceholder:e("materialView.editor.questionPlaceholder"),quote:e("materialView.editor.quote"),title:e("materialView.editor.title"),expand:e("materialView.editor.expand")},helpbar:{markdown:e("materialView.editor.markdown"),preview:e("materialView.editor.preview")},bottom:{title:e("materialView.editor.title")},editor:{uploading:e("materialView.editor.uploading")},icons:{bold:n.createElement(pe.G,{icon:ye.c_t}),italic:n.createElement(pe.G,{icon:ye.cJz}),underline:n.createElement(pe.G,{icon:ye.jmw}),quote:n.createElement(pe.G,{icon:ve.y1i}),unorderedList:n.createElement(pe.G,{icon:ye.gf$}),orderedList:n.createElement(pe.G,{icon:ye.nFo}),code:n.createElement(pe.G,{icon:ye.dT$}),link:n.createElement(pe.G,{icon:ye.nNP}),image:n.createElement(pe.G,{icon:ye.Oi0}),preview:n.createElement(pe.G,{icon:ye.Mdf}),contrac:n.createElement(pe.G,{icon:ye.V9$}),edit:n.createElement(pe.G,{icon:ye.TzT})}};return n.createElement(un,dn({},fn(this.setRef,t,(function(){}),this.handleEditorChange,!1,this.props.id),{textarea:{onFocus:function(){}}}))}}])&&yn(t.prototype,r),a&&yn(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);En.propTypes={t:oe().func,setEditorValues:oe().func,id:oe().string};const Sn=(0,xr.Z)()(En);var kn=function(){var e=(0,le.c)().getCookie,t=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("userType")})),r=(0,c.v9)((function(e){return e.get("header").get("platziDayEnabled")})),n=(0,c.v9)((function(e){return e.get("videoPlayer").get("blockedInfo")})),a="B"===e("mvpwexp");return"free"===t&&n&&a&&!r},_n="modal_paid_action_impression",On="modal_paid_action_click_plans_landing",jn="modal_paid_action_click_close",In=function(e,t,r,n,a){e&&t&&r&&n&&n(a?{event:String(r),course_id:String(t),material_id:String(e),action:String(a)}:{event:String(r),course_id:String(t),material_id:String(e)})},Nn=function(e,t,r){In(e,t,_n,ce.T.send,r)},Tn=function(e,t){In(e,t,On,ce.T.send)},Pn=function(e,t){var r=(0,c.I0)();return[(0,c.v9)((function(e){return e.get("modalBlockedMaterial").get("isOpen")})),function(){r($t(!1)),function(e,t){In(e,t,jn,ce.T.send)}(e,t)},function(){r($t(!0))}]};function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){Mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Cn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ln(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ln(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vn={headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryQEAJn6Z2lP1GW8mJ","Custom-Content-Encode":"base64"}},Rn=function(e){var t=(0,ue.$)().t,r=(0,c.I0)(),a=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("avatar")})),o=(0,c.v9)((function(e){var t,r;return null===(t=e.get("community"))||void 0===t||null===(r=t.get("contributions"))||void 0===r?void 0:r.get("payload")}),c.wU),i=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),l=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),s=kn(),u=Bn(Pn(),3)[2],f=Bn((0,n.useState)("input"),2),m=f[0],d=f[1],p=Bn((0,n.useState)(!1),2),y=p[0],v=p[1],h=Bn((0,n.useState)(""),2),b=h[0],g=h[1],w=Bn((0,n.useState)(e.defaultRadio||""),2),E=w[0],S=w[1],k=Bn((0,n.useState)({content:"",markDownContent:""}),2),_=k[0],O=k[1],N=e.hideRadioButtons,T=e.isReply,P=e.payloadCustom,A=e.setViewState,M=e.extraData;o=o?o.toJS():{url:"",parameters:[]},(0,n.useEffect)((function(){(0,ce.d)(_.markDownContent,R)}),[_.markDownContent,E]);var L=function(t){e.blocked||(A&&A(t),d(t))},R=function(e){var t;e&&"questions"===E&&(t=_.markDownContent,Pe(!0).get(Fe(t)).then((function(e){return e.data}))).then((function(e){T||(e.discussions.length||e.contributions.length)&&(r(function(e){return{type:F,payload:e}}(e)),r(Ft(!0)),r(function(e){return{type:G,payload:e}}(_.markDownContent)))})).catch((function(e){throw new Error(e)}))},D=me()("EditorWrapper",{"EditorWrapper--alternative":T});return n.createElement("div",{className:D},"input"===m?e.isReply?n.createElement("button",{className:"EditorWrapper-buttonCta",onClick:function(){return L("editor")}},n.createElement(pe.G,{icon:ye.Lh7}),t("materialView.card.reply")):n.createElement("button",{className:"EditorWrapper-input",onClick:function(){return L("editor")}},n.createElement("figure",{className:"EditorWrapper-input-avatar"},n.createElement("img",{src:a,alt:t("materialView.editor.personalAvatar"),loading:"lazy"})),t("materialView.editor.questionPlaceholder")):n.createElement("form",{onSubmit:function(e){if(g(""),e.preventDefault(),s)return Nn(i,l,E),void u();if("comments"===E||"questions"===E){v(!0);var n=new FormData,a=An({},T?P:o);if("questions"===E&&!T){var c=a.parameters.findIndex((function(e){return"is_discussion"===e.name}));a.parameters[c].value=!0}n.append("content",btoa(encodeURIComponent(_.content))),n.append("markdown_content",btoa(encodeURIComponent(_.markDownContent)));for(var f=0;f<a.parameters.length;f++)n.append(a.parameters[f].name,a.parameters[f].value);Pe(!0,Vn).post(a.url,n).then((function(e){var t=e.data;T?r("comments"===E?function(e){return{type:I,payload:e}}({card:t,extraData:M}):function(e){return{type:x,payload:e}}({card:t,extraData:M})):"comments"===E?(r(function(e){return{type:j,payload:e}}(t)),r(function(e){return{type:B,payload:e}}())):(r(function(e){return{type:C,payload:e}}(t)),r(function(e){return{type:V,payload:e}}())),v(!1),L("input")})).catch((function(e){var r,n;g((null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||t("materialView.editor.generalError")),v(!1)}))}else g(t("materialView.editor.selectRadioError"))},className:"EditorWrapper-form"},n.createElement("button",{onClick:function(){return L("input")},className:"EditorWrapper-form-close","aria-label":t("materialView.editor.close")},n.createElement(pe.G,{icon:he.NBC})),n.createElement(Sn,{id:e.id,setEditorValues:O}),n.createElement("div",{className:"EditorWrapper-form-footer"},!N&&n.createElement("div",{className:"EditorWrapper-form-radios"},n.createElement(Cr,{id:"comments",type:"radio",name:"type",onChange:function(){return S("comments")},value:"comments",label:t("materialView.editor.comments"),required:!0}),n.createElement(Cr,{id:"questions",type:"radio",name:"type",onChange:function(){return S("questions")},value:"questions",label:t("materialView.editor.questions"),required:!0})),n.createElement("button",{type:"submit",className:"EditorWrapper-form-submit",disabled:y},n.createElement(pe.G,{icon:he.XCy}),t("materialView.editor.publish"))),""!==b&&n.createElement("p",{className:"EditorWrapper-form-error"},n.createElement(pe.G,{icon:he.eHv}),b)))};Rn.propTypes={id:oe().string,hideRadioButtons:oe().bool,defaultRadio:oe().string,payloadCustom:oe().object,isReply:oe().bool,setViewState:oe().func,extraData:oe().object,materialId:oe().string,blocked:oe().bool},Rn.defaultProps={hideRadioButtons:!1,isReply:!1,blocked:!1};var Dn=r(27484),Un=r.n(Dn),Fn=r(84110),Gn=r.n(Fn);function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $n=function(e){var t,r=qn((0,n.useState)(e.liked),2),a=r[0],o=r[1],i=me()("LikeButton-icon",{"isLiked animated-like":a});return n.createElement("button",{className:"LikeButton ".concat(e.customClass),type:"button",onClick:function(){o(!a),e.toggleLike(a)}},n.createElement("div",{className:i}),n.createElement("span",null,(t=e.numberOfLikes,e.numberOfLikes>1e3&&(t=(e.numberOfLikes/1e3).toFixed(1)+"K"),t)))};function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}$n.propTypes={toggleLike:oe().func,numberOfLikes:oe().number,liked:oe().bool,customClass:oe().string},$n.defaultProps={toggleLike:function(){},numberOfLikes:0,customClass:""};var Jn=(0,n.memo)((function(e){var t,r=e.text,a=e.id,o=e.detailUrl,i=e.isSecondLevel,l=(0,ue.$)().t,s=(0,c.I0)(),u=Hn((0,n.useState)(!0),2),f=u[0],m=u[1],d=(0,n.useRef)(null);(0,n.useEffect)((function(){d.current.clientHeight>300&&m(!1)}),[null===(t=d.current)||void 0===t?void 0:t.clientHeight]);(0,n.useEffect)((function(){for(var e=document.getElementsByClassName(a),t=function(t){e[t].addEventListener("click",(function(){s(Ut(e[t].getAttribute("data-image")))}))},r=0;r<e.length;r++)t(r);return function(){for(var e=document.getElementsByClassName(a),t=function(t){e[t].removeEventListener("click",(function(){s(Ut(e[t].getAttribute("data-image")))}))},r=0;r<e.length;r++)t(r)}}));var p=r.replace(/<img(.*)src="(.*)">/g,'<button class="'.concat(a,' preview-button" aria-label="image preview" data-image="$2"><div><svg aria-hidden="true" focusable="false" role="img" viewBox="0 0 448 512" class="fa-expand"><path fill="currentColor" d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"></path></svg></div><img$1 src="$2" loading="lazy"></button>')),y=me()("ContentMardown",{"ContentMardown--hide":!f}),v=me()("ContentMardown-gradient",{"ContentMardown-gradient--link":i});return n.createElement("div",{className:y},n.createElement("div",{className:"ContentMardown-text Content-body-text",dangerouslySetInnerHTML:{__html:p},ref:d}),!f&&n.createElement(n.Fragment,null,n.createElement("div",{className:v}),i?n.createElement("a",{className:"ContentMardown-link",href:o,target:"_blank"},n.createElement(pe.G,{icon:ye.ptq}),l("materialView.card.seeMore")):n.createElement("button",{className:"ContentMardown-button",onClick:function(){m(!0)}},n.createElement(pe.G,{icon:ye.ptq}),l("materialView.card.seeMore"))))}));Jn.propTypes={text:oe().string,id:oe().oneOfType([oe().string,oe().number]),detailUrl:oe().string,isSecondLevel:oe().bool},Jn.defaultProps={text:"",isSecondLevel:!1};r(67763),r(25054),r(15001);function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Un().extend(Gn());var Qn=["Estudiante","Estudante"],Xn=function(e){var t=(0,ue.$)().t,r=(0,n.useContext)(m.L),a=(0,c.I0)(),o=Kn((0,n.useState)(!1),2),i=o[0],l=o[1],s=Kn((0,n.useState)(!1),2),u=s[0],f=s[1],p=e.content,y=p.author,v=p.timestamp,h=p.content,b=p.ai_generated,g=p.liked,w=p.objectType,E=p.actions,S=p.payload,k=r.split(/-(.*)/)[0],_=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),j=(0,c.v9)((function(e){return e.get("videoPlayer").get("freeAccess")||!1})),I=me()("Content",{"Content--main":!e.secondLevel,"Content--secondary":e.secondLevel,"Content--last":e.lastItem,"Content--noBorder":e.noBorder,"Content--editorOpen":u});return y?n.createElement("div",{className:I},n.createElement("div",{className:"Content-author"},n.createElement("figure",{className:"Content-author-avatar"},n.createElement("img",{src:y.avatar,alt:y.name,loading:"lazy"})),n.createElement("div",null,n.createElement("p",{className:"Content-author-name"},y.name),!Qn.includes(y.role)&&n.createElement("p",{className:"Content-author-role"},y.role,n.createElement("span",{className:"Content-point"})),r!==d.lE.PORTUGUESE&&n.createElement("a",{href:e.detailUrl,target:"_blank",className:"Content-timestamp"},Un()(v).locale(k||"es").fromNow())),b&&n.createElement("span",{className:"Content-author__aiGenerated","data-trans":"materialView_discussions_ai_generated"},t("materialView_discussions_ai_generated"))),n.createElement("div",{className:"Content-body"},n.createElement("div",{className:"Content-body-like"},n.createElement($n,{toggleLike:function(t){if(!i&&!j){var r={parentIndex:e.parentIndex,index:e.index,nLikes:e.content.nLikes,type:"comment"===w?"contributions":"questions",status:!t};t?r.nLikes-=1:r.nLikes+=1,a(function(e){return{type:A,payload:e}}(r));var n=S.like.url,o=S.like.parameters[0],c=new FormData;for(var s in o)c.append(s,o[s]);Pe(!0).post(n,c).then((function(e){l(!1)})).catch((function(e){throw l(!1),new Error(e)}))}},numberOfLikes:e.content.nLikes,liked:g})),n.createElement("div",null,n.createElement(Jn,{key:"content-markdown-".concat(e.content.id),id:e.content.id,text:h,detailUrl:e.detailUrl,isSecondLevel:e.secondLevel})),!e.secondLevel&&!j&&_&&n.createElement(Rn,{id:"r2pl1-".concat(e.content.id),payloadCustom:e.content.payload.create,defaultRadio:"comment"===e.content.objectType?"comments":"questions",setViewState:function(e){f("input"!==e)},hideRadioButtons:!0,isReply:!0,extraData:{parentIndex:e.parentIndex,index:e.index}})),E.deletable&&n.createElement("div",{className:"Content-delete"},n.createElement("button",{className:"Content-delete-button",type:"button",onClick:function(){if(!i){var t={parentIndex:e.parentIndex,index:e.index};l(!0);var r=S.delete.url;Pe(!0).post(r).then((function(){"comment"===w&&(a(function(e){return{type:O,payload:e}}(t)),a(function(e){return{type:L,payload:e}}())),"discussion"!==w&&"material"!==w||(a(function(e){return{type:P,payload:e}}(t)),a(function(e){return{type:R,payload:e}}())),l(!1)})).catch((function(e){throw l(!1),new Error(e)}))}},"aria-label":t("materialView.card.deleteMessage")},n.createElement(pe.G,{icon:he.I7k}),n.createElement("div",{className:"Content-delete-tooltip"},n.createElement("p",null,t("materialView.card.deleteMessage")))))):null};Xn.propTypes={content:oe().shape({timestamp:oe().string,ai_generated:oe().bool,author:oe().shape({avatar:oe().string,name:oe().string,role:oe().string}),content:oe().string,liked:oe().bool,nLikes:oe().number,id:oe().number,objectType:oe().string,actions:oe().shape({likeable:oe().bool,deletable:oe().bool}),payload:oe().shape({delete:oe().shape({url:oe().string,parameters:oe().array}),like:oe().shape({url:oe().string,parameters:oe().array}),create:oe().shape({url:oe().string,parameters:oe().array})})}),secondLevel:oe().bool,lastItem:oe().bool,noBorder:oe().bool,index:oe().number,parentIndex:oe().number,detailUrl:oe().string},Xn.defaultProps={parentIndex:void 0};var Zn=function(e){var t=(0,ue.$)().t,r=e.cards,a=r.subcards,o=r.nSubcards,i=r.detailUrl;return n.createElement(Wt.C,{isDark:!0,customClass:"CommunityCard"},n.createElement(Xn,{index:e.index,content:e.cards,noBorder:a&&a.length<=0,detailUrl:i}),a.slice(0,2).map((function(t,r){return n.createElement(Xn,{secondLevel:!0,index:r,parentIndex:e.index,lastItem:r===a.length-1||1===r,content:t,key:"content-".concat(t.id,"-").concat(r),detailUrl:i})})),o>2&&n.createElement("div",{className:"CommunityCard-cta"},n.createElement("a",{href:i,target:"_blank"},n.createElement(pe.G,{icon:ye.gJF}),o," ",t("materialView.card.answers"))))};Zn.propTypes={cards:oe().shape({id:oe().number,subcards:oe().array,nSubcards:oe().number,detailUrl:oe().string}),index:oe().number},Zn.defaultProps={cards:{}};var ea=function(){var e=(0,le.e)(),t=e.openRegisterModal,r=e.closeRegisterModal;return{isRegisterModalOpen:e.isRegisterModalOpen,openRegisterModal:function(e){return t(e)},closeRegisterModal:function(e){return r(e)},canRegisterModalOpen:!(0,c.v9)((function(e){return e.get("header").get("userInfo").get("isAuthenticated")}))}};function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ta(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ta(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oa="material_view_registration_modal_accountless_class",ia="material_view_registration_modal_accountless_impression",la="material_view_registration_modal_accountless_close",ca="material_view_registration_modal_accountless_click",sa=function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&ce.T.send(na({event:e},t))}(oa,e)},ua=function(e){var t,r=(0,ue.$)().t,a=null===(t=(0,c.v9)((function(e){var t;return null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("blockedInfo")}),c.wU))||void 0===t?void 0:t.toJS(),o=(0,c.v9)((function(e){var t;return null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("courseId")})),i=(0,c.v9)((function(e){var t;return null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("materialId")})),l=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),s=l?(0,c.v9)((function(e){return e.get("header").get("userInfo").get("email")})):"",u=ea(),f=u.canRegisterModalOpen,m=u.openRegisterModal,d=me()("CommentsOverlay",{"CommentsOverlay--fixed":e.count<15});return null!=a&&a.blocked||!l?n.createElement(n.Fragment,null,n.createElement("div",{className:d}),n.createElement("div",{className:"CommentsOverlay-note",id:"CommentsOverlay-note"},n.createElement(pe.G,{icon:ye.byT}),"unlogged"!==(null==a?void 0:a.type)&&"createAccount"!==(null==a?void 0:a.type)&&l?n.createElement("p",{className:"CommentsOverlay-note-text",dangerouslySetInnerHTML:{__html:l?r("materialView.commentsOverlay-".concat(a.type),{next:e.classUrl,email:s}):r("materialView.commentsOverlay.createAccount",{next:e.classUrl})}}):n.createElement("div",{className:"CommentsOverlay-note-text"},n.createElement("p",null,r("materialView.commentsOverlay-unlogged-note")),n.createElement("button",{className:"CommentsOverlay-note-text-button",onClick:function(){f&&m({courseId:o,materialId:i,source:"contributions_overlay",event:ia})},tabIndex:"0"},r("materialView.commentsOverlay-unlogged-register"))," ",n.createElement("p",{dangerouslySetInnerHTML:{__html:r("materialView.commentsOverlay-unlogged-login")}})))):null};function fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ua.propTypes={classUrl:oe().string,count:oe().number},ua.defaultProps={count:0};var da=0,pa="top",ya=function(e){var t,r,a=(0,c.I0)(),o=fa((0,n.useState)(pa),2),l=o[0],s=o[1],u=fa((0,n.useState)(!1),2),f=u[0],m=u[1],d=(0,c.v9)((function(e){return e.get("community").get("questions")})).toJS(),p=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),y=function(){m(!0),function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Pe(!0,{headers:{"api-is-logged":o}}).get(De(e,t,r,n,a)).then((function(e){return e.data}))}(e.courseSlug,e.materialId,e.materialSlug,da,l,p).then((function(e){var t;a(1===da?(t=(0,i.fromJS)(e),{type:N,payload:t}):function(e){return{type:T,payload:e}}((0,i.fromJS)(e.cards))),m(!1)})).catch((function(e){throw new Error(e)}))};return n.createElement(n.Fragment,null,f&&n.createElement("div",{className:"Contributions"},n.createElement("div",{className:"Contributions-mock"},n.createElement("div",{className:"Contributions-mock--line"}),n.createElement("div",{className:"Contributions-mock--card one"}),n.createElement("div",{className:"Contributions-mock--card"}),n.createElement("div",{className:"Contributions-mock--card"}))),n.createElement(Pr,{filters:d.filters,orderBy:l,setOrderBy:s}),n.createElement("div",{className:"Contributions-content"},n.createElement(ua,{classUrl:e.classUrl,count:null===(t=d.cards)||void 0===t?void 0:t.length}),n.createElement(Tr,{enabled:!f,fetchElements:function(){var e,t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(pa!==l&&(pa=l,y()),r){var n;if((null===(n=d.pagination)||void 0===n?void 0:n.nPages)===da)return;da+=1}else da=1;0!==(null===(e=d.cards)||void 0===e?void 0:e.length)&&1===da&&d.filters?da=parseInt(null===(t=d.pagination)||void 0===t?void 0:t.page,10):y()},delay:500,scrollParent:e.scrollRef,hooksDependencies:[l]},(null===(r=d.cards)||void 0===r?void 0:r.length)>0&&d.cards.map((function(e,t){return n.createElement(Zn,{index:t,key:"question-".concat(t),cards:e})})))))};ya.propTypes={courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string,scrollRef:oe().object,classUrl:oe().string};var va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.map((function(e){e.subcards.slice(0,2).map((function(e){return t.push(e.id)})),t.push(e.id)})),t.toString()};function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){wa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ha(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ea=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.cards,n=function(e){for(var n=0;n<r.length;n++){if(parseInt(t[e],10)===r[n].id){r[n].liked=!0;break}var a=r[n].subcards.slice(0,2).findIndex((function(r){return r.id===parseInt(t[e],10)}));if(a>-1){r[n].subcards[a].liked=!0;break}}},a=0;a<t.length;a++)n(a);return ga(ga({},e),{},{cards:r})};function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function ka(){ka=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return n(i,"_invoke",{value:E(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function m(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(j([])));h&&h!==t&&r.call(h,o)&&(y=h);var b=p.prototype=m.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var c=u(e[n],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Sa(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function _a(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ia=0,Na="top",Ta=function(e){var t,r,a=(0,c.I0)(),o=Oa((0,n.useState)(Na),2),l=o[0],u=o[1],f=Oa((0,n.useState)(!1),2),m=f[0],d=f[1],p=(0,c.v9)((function(e){return e.get("community").get("contributions")})).toJS(),y=(0,c.v9)((function(e){return e.get("header").get("isLogged")}));(0,n.useEffect)((function(){var e;(null===(e=p.cards)||void 0===e?void 0:e.length)>0&&h(p)}),[]);var v=function(){d(!0),function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Pe(!0,{headers:{"api-is-logged":o}}).get(Re(e,t,r,n,a)).then((function(e){return e.data}))}(e.courseSlug,e.materialId,e.materialSlug,Ia,l,y).then((function(e){h(e)})).catch((function(e){throw new Error(e)}))},h=function(){var e,t=(e=ka().mark((function e(t){var r;return ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.c)("enigma",{method:"get",requestURL:Ge(va(t.cards)),payload:{}});case 2:r=e.sent,a(1===Ia?(n=(0,i.fromJS)(Ea(t,r.comments)),{type:k,payload:n}):Rt((0,i.fromJS)(Ea(t,r.comments)))),d(!1);case 5:case"end":return e.stop()}var n}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_a(o,n,a,i,l,"next",e)}function l(e){_a(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.createElement(n.Fragment,null,m&&n.createElement("div",{className:"Contributions"},n.createElement("div",{className:"Contributions-mock"},n.createElement("div",{className:"Contributions-mock--line"}),n.createElement("div",{className:"Contributions-mock--card one"}),n.createElement("div",{className:"Contributions-mock--card"}),n.createElement("div",{className:"Contributions-mock--card"}))),n.createElement(Pr,{filters:p.filters,orderBy:l,setOrderBy:u}),n.createElement("div",{className:"Contributions-content"},n.createElement(ua,{classUrl:e.classUrl,count:null===(t=p.cards)||void 0===t?void 0:t.length}),n.createElement(Tr,{enabled:!m,fetchElements:function(){var e,t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Na!==l&&(Na=l,v()),r){var n;if((null===(n=p.pagination)||void 0===n?void 0:n.nPages)===Ia)return;Ia+=1}else Ia=1;0===(null===(e=p.cards)||void 0===e?void 0:e.length)||1!==Ia?v():Ia=parseInt(null===(t=p.pagination)||void 0===t?void 0:t.page,10)},delay:500,scrollParent:e.scrollRef,hooksDependencies:[l]},(null===(r=p.cards)||void 0===r?void 0:r.length)>0&&p.cards.map((function(e,t){return n.createElement(Zn,{index:t,key:"contribution-".concat(t,"-").concat(e.id),cards:e})})))))};function Pa(e){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(e)}function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ta.propTypes={courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string,scrollRef:oe().object,classUrl:oe().string},Ta.defaultProps={};function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ba(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var La=function(e){var t=(0,ue.$)().t,r=(0,c.I0)(),a=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),o=(0,c.v9)((function(e){return e.get("syllabus").get("concepts")}),c.wU).toJS(),i=(0,n.useRef)(null),l=(0,n.useRef)(null),s=Ma((0,n.useState)(e.isMobile),2),u=s[0],f=s[1],m=function(){f(!u)};(0,n.useEffect)((function(){d(),p()}),[]);var d=function(){i.current&&l.current&&!e.isMobile&&l.current.scrollTo({top:i.current.offsetTop-i.current.clientHeight,left:0,behavior:"smooth"})},p=function(){if(e.courseSlug)return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pe(!0,{headers:{"api-is-logged":t}}).get(Ce(e)).then((function(e){return e.data}))}(e.courseSlug,a).then((function(e){var t=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0;r<e.length;r++){e[r].seen=t[r].seen;for(var n=0;n<e[r].materials.length;n++)e[r].materials[n]=xa(xa({},e[r].materials[n]),t[r].materials[n])}return e}(o,e);r({type:q,payload:t})})).catch((function(e){throw new Error(e)}))},y=me()("Syllabus",{"Syllabus--open":u,"Syllabus--close":!u,"Syllabus--mobile":e.isMobile}),v=u?"materialView.syllabus.hideSyllabus":"materialView.syllabus.showSyllabus";return n.createElement(n.Fragment,null,u&&n.createElement("button",{className:"Syllabus-backdrop",onClick:m}),n.createElement("div",{className:y,ref:l,style:{maxHeight:e.isMobile?"":"calc(100vh - ".concat(e.headerHeight,"px)"),top:"".concat(e.headerHeight,"px")}},n.createElement("div",{className:"Syllabus-container"},!e.isMobile&&n.createElement("div",{className:"Syllabus-header"},n.createElement("button",{onClick:m,"aria-label":t(v),className:"Syllabus-toggle"},n.createElement(pe.G,{icon:u?he.A35:he._tD})),n.createElement("div",{className:"Syllabus-course"},n.createElement("figure",{className:"Syllabus-course-badge"},n.createElement("img",{src:e.courseBadge,alt:e.courseTitle})),n.createElement("a",{href:e.courseUrl,className:"Syllabus-course-title"},e.courseTitle))),(null==o?void 0:o.length)>0&&o.map((function(r,a){return n.createElement(n.Fragment,{key:"fragment-".concat(a)},function(e,t){var r=me()("Syllabus-divider",{"--seen":e.seen});return n.createElement("div",{key:"divider-index-".concat(t),className:r,"data-testid":"Syllabus-divider"},n.createElement("span",{className:"Syllabus-divider-icon"},n.createElement(pe.G,{icon:he.G0d})),n.createElement("div",{className:"Syllabus-divider-text"},n.createElement("p",null,e.title)))}(r,a),r.materials.map((function(t,r){return function(t,r){var a=me()("Syllabus-class",{"--active":t.id===parseInt(e.materialId,10)}),o=me()("Syllabus-class-container",{"--seen":e.freeAccess&&"undefined"!=typeof window?localStorage.getItem("materialSeen-".concat(t.id)):t.seen});return n.createElement("a",{key:"class-index-".concat(r),className:a,"data-testid":"Syllabus-class",href:t.link,ref:t.id===parseInt(e.materialId,10)?i:null},n.createElement("div",{className:o},n.createElement("span",{className:"Syllabus-class-container-icon"},t.index),n.createElement("div",{className:"Syllabus-class-container-text"},n.createElement("p",null,t.name))))}(t,r)})),function(e,r){return null!==e.quiz?n.createElement("a",{key:"class-quiz-".concat(r),className:"Syllabus-quiz","data-testid":"Syllabus-quiz",href:e.quiz.url},n.createElement("div",{className:"Syllabus-quiz-container"},n.createElement("span",{className:"Syllabus-quiz-container-icon"},n.createElement(pe.G,{icon:he.BDt})),n.createElement("div",{className:"Syllabus-quiz-container-text"},n.createElement("p",null,t("materialView.header.quiz")," ",e.title)))):null}(r,a))})))))};function Va(){var e=sr((function(e){return"video"===e.get("videoPlayer").get("type")}),""),t=sr((function(e){return e.get("header").get("isLogged")}),!1),r=sr((function(e){return e.get("videoPlayer").get("video").get("iframes").toJS().length>0}),!1);return e&&t&&!r}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(this,arguments)}function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ua(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}La.propTypes={materialId:oe().string,materialSlug:oe().string,courseSlug:oe().string,courseUrl:oe().string,courseBadge:oe().string,courseTitle:oe().string,isMobile:oe().bool,mockData:oe().object,headerHeight:oe().number,freeAccess:oe().bool},La.defaultProps={isMobile:!1,headerHeight:52,freeAccess:!1};var Fa=function(e){var t,r,a,o=(0,ue.$)().t,i=Da((0,n.useState)("resources"),2),l=i[0],s=i[1],u=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),f=(0,c.v9)((function(e){return e.get("videoPlayer").get("newBookmark")})),m=(0,c.v9)((function(e){return e.get("videoPlayer").get("commentsNumber")})),d=(0,c.v9)((function(e){return e.get("videoPlayer").get("discussionsNumber")})),p=null!==(t=e.video)&&void 0!==t&&t.movin?null===(r=e.video)||void 0===r||null===(a=r.movin)||void 0===a?void 0:a.subtitles.find((function(e){return"captions"===e.type})):null,y=Va();return(0,n.useEffect)((function(){f&&s("bookmarks")}),[f]),n.createElement(de.S,{key:"tabs-".concat(e.isMobile),customClass:"Tabs",defaultTab:l},n.createElement(de.T,{key:"syllabus",title:o("materialView.tabs.syllabus"),shouldShow:e.isMobile},n.createElement(La,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,courseTitle:e.courseTitle,courseBadge:e.courseBadge,isMobile:e.isMobile,freeAccess:e.freeAccess,headerHeight:0})),n.createElement(de.T,{key:"resources",title:o("materialView.tabs.resourcesTitle"),shouldShow:"video"===e.type},n.createElement(At,e)),n.createElement(de.T,{key:"contributions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:o("materialView.tabs.contributionsTitle",{quantity:m})}}),shouldShow:e.isMobile},n.createElement("div",{className:"Tabs-wrapper"},n.createElement(Rn,{id:"b453-comments",defaultRadio:"comments",hideRadioButtons:!0,blocked:!u}),n.createElement(Ta,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,classUrl:e.classUrl}))),n.createElement(de.T,{key:"questions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:o("materialView.tabs.questionsTitle",{quantity:d})}}),shouldShow:e.isMobile},n.createElement("div",{className:"Tabs-wrapper"},n.createElement(Rn,{id:"b453-questions",defaultRadio:"questions",hideRadioButtons:!0,blocked:!u}),n.createElement(ya,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,classUrl:e.classUrl}))),n.createElement(de.T,{key:"transcript",title:o("materialView.tabs.transcriptTitle"),shouldShow:!e.isMobile&&p},n.createElement(kr,Ra({},p,{materialId:e.materialId}))),n.createElement(de.T,{key:"bookmarks",title:o("materialView.tabs.bookmarksTitle"),shouldShow:y},n.createElement(dr,e)))};Fa.propTypes={courseBadge:oe().string,courseTitle:oe().string,courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string,isMobile:oe().bool,video:oe().shape({movin:oe().oneOfType(oe().object,oe().string)}),type:oe().oneOf(["video","lecture","audio"]),commentsNumber:oe().number,discussionsNumber:oe().number,freeAccess:oe().bool,classUrl:oe().string},Fa.defaultProps={isMobile:!1,freeAccess:!1,video:{movin:null}};var Ga=r(47024);function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qa.apply(this,arguments)}var za=function(e){var t=(0,ue.$)().t,r=(0,le.u)("");(0,n.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){document.removeEventListener("keydown",a,!1)}}),[]);var a=function(t){27===t.keyCode&&e.close()};return n.createElement("div",{className:"ReportIssue"},n.createElement("button",{className:"ReportIssue-backdrop",onClick:e.close}),n.createElement(Wt.C,{customClass:"ReportIssue-modal"},n.createElement("div",{className:"ReportIssue-closeModal"},n.createElement("button",{type:"button",onClick:e.close,"aria-label":"Close Modal"},n.createElement(pe.G,{icon:ye.NBC}))),n.createElement("div",{className:"ReportIssue-content"},n.createElement("div",{className:"ReportIssue-title"},e.reportSent?n.createElement("div",{className:"ReportIssue-title-thanks"},n.createElement(pe.G,{icon:ye.LEp})):n.createElement("div",{className:"ReportIssue-title-icon"},n.createElement(pe.G,{icon:ye.RrC})),n.createElement("p",{className:"ReportIssue-title-text"},e.reportSent?t("materialView.reportIssue.titleThanks"):t("materialView.reportIssue.title"))),n.createElement("div",{className:"ReportIssue-msg"},n.createElement("p",null,e.reportSent?t("materialView.reportIssue.messageThanks"):t("materialView.reportIssue.message"))),!e.reportSent&&n.createElement("textarea",qa({className:"ReportIssue-input",placeholder:t("materialView.reportIssue.placeholder")},r))),n.createElement("div",{className:"ReportIssue-buttons"},e.reportSent?n.createElement("button",{type:"button",className:"ReportIssue-buttons-copy",onClick:e.close},t("materialView.reportIssue.buttonReturn")):n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"ReportIssue-buttons-copy",onClick:function(){e.onSubmit(r.value)}},t("materialView.reportIssue.buttonSend")),n.createElement("button",{type:"button",className:"ReportIssue-buttons-cancel",onClick:e.close},t("materialView.reportIssue.buttonCancel"))))))};za.propTypes={close:oe().func,onSubmit:oe().func,reportSent:oe().bool},za.defaultProps={close:function(){},onSubmit:function(){},reportSent:!1};var $a=r(79769);function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ja=function(e){var t=(0,ue.$)().t,r=(0,le.c)().getCookie,a=Ha((0,n.useState)(!1),2),o=a[0],i=a[1],l=(0,c.v9)((function(e){var t;return null===(t=e.get("header").get("userInfo"))||void 0===t?void 0:t.get("plan")})),s=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("isB2B")})),u=("Platzi Free"===l||e.isAccountless)&&!s;return(0,n.useEffect)((function(){var t=r("individual_promo_url"),n=r("individual_promo_expire");t||n||e.isBlocked||!u||e.isAccountless||i(!0)}),[l]),o?n.createElement("div",{className:"PlansBanner",role:"complementary"},n.createElement("div",{className:"PlansBanner-content"},n.createElement("img",{src:$a,className:"PlansBanner-image",alt:t("materialView.plansbanner.title")}),n.createElement("h2",{className:"PlansBanner-title"},t("materialView.plansbanner.title"))),n.createElement("a",{href:t("materialView.plansbanner.ctaurl"),className:"PlansBanner-cta"},t("materialView.plansbanner.ctatext"))):null};Ja.propTypes={isBlocked:ae.bool,isAccountless:ae.bool},Ja.defaultProps={isBlocked:!1,isAccountless:!1};var Ka="platzi.material_progress.1",Ya={eventName:"".concat(Ka,".finished"),eventType:"finished"},Qa={eventName:"".concat(Ka,".forward"),eventType:"forward"},Xa={eventName:"".concat(Ka,".is_seen"),eventType:"is_seen"},Za={eventName:"".concat(Ka,".last_position"),eventType:"last_position"},eo={eventName:"".concat(Ka,".next_material"),eventType:"move_to_next_material"},to={eventName:"".concat(Ka,".previous_material"),eventType:"move_to_previous_material"},ro={eventName:"".concat(Ka,".pause"),eventType:"pause"},no={eventName:"".concat(Ka,".rewind"),eventType:"rewind"},ao={eventName:"".concat(Ka,".started"),eventType:"started"},oo=["className","onClick","children","tooltip"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function lo(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function co(e){var t=e.className,r=e.onClick,a=e.children,o=e.tooltip,i=lo(e,oo),l=me()("BaseMaterial__ControlButton",t);return n.createElement("div",null,n.createElement("button",io({className:l,type:"button",onClick:r},i),a,o&&n.createElement("div",{className:"BaseMaterial__Tooltip"},n.createElement("p",null,o))))}co.propTypes={className:oe().string,onClick:oe().func.isRequired,children:oe().node.isRequired,tooltip:oe().string},co.defaultProps={className:"",tooltip:""};var so=function(){var e,t,r,a,o,i,l=(0,ue.$)().t,c=sr((function(e){return e.get("header").get("userInfo").get("userId")}),0),s=sr((function(e){return e.get("header").get("isLogged")}),!1),u=sr((function(e){return e.get("videoPlayer").toJS()}),{});if(null!=u&&u.freeAccess&&null!=u&&null!==(e=u.materialParams)&&void 0!==e&&e.isLast)return null;var f=(null==u||null===(t=u.materialParams)||void 0===t?void 0:t.isLast)&&!1===s,m=""===(null==u||null===(r=u.materialParams)||void 0===r?void 0:r.nextMaterialUrl)||f,d=null!=u&&null!==(a=u.materialParams)&&void 0!==a&&a.isLast?l("materialView.header.takeExam"):null==u||null===(o=u.materialParams)||void 0===o?void 0:o.nextMaterialName,p=me()("Header-course-actions-next",{"border-radius-left":null===(null==u||null===(i=u.materialParams)||void 0===i?void 0:i.previousMaterialUrl),disabled:m});return n.createElement(co,{className:p,onClick:function(){var e,t;null!=u&&null!==(e=u.materialParams)&&void 0!==e&&e.isLast&&ce.T.send({event:"click_certify_course",user_id:c,course_id:null==u?void 0:u.courseId,event_type:"material_view"});var r={event_name:eo.eventName,attributes:{course_id:null==u?void 0:u.courseId,material_id:Number(null==u?void 0:u.materialId),value:"true",key:"".concat(c,"-").concat(null==u?void 0:u.materialId)},metadata:{event_type:eo.eventType}};et({payload:r}),window.location.href="".concat(null==u||null===(t=u.materialParams)||void 0===t?void 0:t.nextMaterialUrl)},"aria-label":m?"":d,disabled:m,tooltip:d},n.createElement(pe.G,{icon:he.Jwg}))},uo=function(){var e,t,r=sr((function(e){return e.get("videoPlayer").toJS()}),{}),a=sr((function(e){return e.get("header").get("userInfo").get("userId")}),0);if(null==r||null===(e=r.materialParams)||void 0===e||!e.previousMaterialUrl)return null;return n.createElement(co,{className:"Header-course-actions-prev",onClick:function(){var e,t={event_name:to.eventName,attributes:{course_id:null==r?void 0:r.courseId,material_id:Number(null==r?void 0:r.materialId),value:"true",key:"".concat(a,"-").concat(null==r?void 0:r.materialId)},metadata:{event_type:to.eventType}};et({payload:t}),window.location.href="".concat(null==r||null===(e=r.materialParams)||void 0===e?void 0:e.previousMaterialUrl)},"aria-label":"Clase anterior",tooltip:null==r||null===(t=r.materialParams)||void 0===t?void 0:t.previousMaterialName},n.createElement(pe.G,{icon:he.J0P}))},fo=r(6363),mo=r(6059),po=function(e){return n.createElement(mo.ZP,{date:new Date(e.date),renderer:function(e){var t=e.days,r=e.hours,a=e.minutes,o=e.seconds;return e.completed?null:n.createElement("strong",{className:"CountDown"}," ",t,n.createElement("span",null,"D "),r,n.createElement("span",null,"H "),a,n.createElement("span",null,"M "),o,n.createElement("span",null,"S "))}})};function yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}po.propTypes={date:ae.string};var ho=function(e){var t,r=(0,ue.$)().t,a=yo((0,n.useState)(!1),2),o=a[0],i=a[1],l=(0,c.v9)((function(e){var t;return null===(t=e.get("header").get("userInfo"))||void 0===t?void 0:t.get("plan")})),s=(0,c.v9)((function(e){var t;return null===(t=e.get("header").get("userInfo"))||void 0===t?void 0:t.get("name")})),u=null===(t=(0,c.v9)((function(e){return e.get("header").get("specialEventBanner")})))||void 0===t?void 0:t.toJS(),f=(0,c.v9)((function(e){var t;return null===(t=e.get("header").get("userInfo"))||void 0===t?void 0:t.get("isB2B")})),m=("Platzi Free"===l||e.isAccountless)&&!f,d=e.isAccountless?"accountless":null==u?void 0:u.status,p=u.endDate,y=me()("SpecialEventBanner",{"SpecialEventBanner--ongoing":"ongoing"===d});return(0,n.useEffect)((function(){var t;(null!==(t=e.blockedInfo)&&void 0!==t&&t.blocked||!m)&&"free"!==e.blockedInfo.type||i(!0)}),[l]),o?n.createElement("section",{className:y,role:"complementary"},"ongoing"===d&&n.createElement("div",{className:"SpecialEventBanner-image"},n.createElement(fo.I,{src:"https://static.platzi.com/media/uploads/platzi-day/pdlogo-mint.png",alt:r("materialView.specialEventBanner.altImage")})),n.createElement("p",{className:"SpecialEventBanner-description"},function(){switch(d){case"ongoing":return n.createElement(n.Fragment,null,r("materialView.specialEventBanner.ongoing.before.description"),n.createElement(po,{date:p}),r("materialView.specialEventBanner.ongoing.after.description"));case"consumed_all_classes":return r("materialView.specialEventBanner.consumed_all_classes.description");case"completed_challenge":return r("materialView.specialEventBanner.completed_challenge.description",{name:s});default:return n.createElement(n.Fragment,null,r("materialView.specialEventBanner.accountless.description"),n.createElement(po,{date:p}))}}()),n.createElement("a",{className:"SpecialEventBanner-cta",href:u.url},r("materialView.specialEventBanner.".concat(d,".cta")))):null};ho.propTypes={blockedInfo:ae.object,isAccountless:ae.bool},ho.defaultProps={blockedInfo:{},isAccountless:!1};var bo="MV-0923",go=function(){var e=(0,le.c)().setCookie,t=(0,ue.$)().t,r=(0,n.useContext)(m.L),a=(0,le.f)((function(e){var t;return null===(t=e.get("header"))||void 0===t?void 0:t.get("userInfo").get("userType")}),"free"),o=r===d.lE.PORTUGUESE;return""===a||"free"===a||o?null:n.createElement(Jt.B,{onClick:function(){var t,r,n=null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.pathname,a="/new-home".concat(n);e(bo,"",0),e(bo,"",0),window.location.href=a},customClass:"CtaNewVersion","data-trans":"materialView_cta_newMv"},n.createElement(pe.G,{icon:ye.JyM}),t("materialView_cta_newMv"))};function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(this,arguments)}function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ko=function(){var e=(0,ue.$)().t;return n.createElement(ur,{className:"Header__CreateNoteButton Header__CreateNoteButton--invisible"},n.createElement(pe.G,{icon:ye.E8Q}),n.createElement("span",null,e("materialView.Header.createNote")),n.createElement("div",{className:"BaseMaterial__Tooltip"},n.createElement("p",null,e("materialView.Header.createNote"))))},_o=function(e){var t,r=(0,ue.$)().t,a=(0,c.I0)(),o=(0,c.v9)((function(e){return e.get("header").get("platziDayIsGoingOn")})),i=(0,c.v9)((function(e){return e.get("header").get("country_name")}))||"",l=(0,c.v9)((function(e){return e.get("header").get("promo_banner")}),c.wU).toJS(),s=Va(),u=Eo((0,n.useState)(!1),2),f=u[0],m=u[1],d=Eo((0,n.useState)(!1),2),p=d[0],y=d[1],v=function(){a(Dt(f)),m(!f)};return n.createElement("div",{className:"Header material-".concat(e.materialType," ").concat(i)},o&&n.createElement(ho,{blockedInfo:e.blockedInfo,isAccountless:e.isAccountless}),!o&&!(null!=l&&l.active)&&n.createElement(Ja,{isBlocked:null===(t=e.blockedInfo)||void 0===t?void 0:t.blocked,isAccountless:e.isAccountless}),(null==l?void 0:l.active)&&!o&&n.createElement(Ga.P,wo({},l,{type:"basic"})),n.createElement("div",{className:"Header-course"},n.createElement("div",{className:"Header-course-info"},n.createElement("img",{className:"Header-course-info-badge",src:e.courseBadge,alt:e.courseTitle,loading:"lazy"}),n.createElement("div",{className:"Header-course-info-content"},n.createElement("a",{href:e.courseUrl},n.createElement("h2",null,e.courseTitle)),n.createElement("img",{src:e.teacherAvatar,alt:e.teacherName,loading:"lazy"}),n.createElement("p",null,e.teacherName))),n.createElement("div",{className:"Header-course-actions"},s&&n.createElement(ko,null),n.createElement(uo,null),n.createElement(so,null))),n.createElement("div",{className:"Header-class"},n.createElement("div",{className:"Header-class-title"},n.createElement("h1",null,e.name),n.createElement("span",null,e.materialParams.actualMaterial,"/",e.materialParams.totalMaterial)),n.createElement(go,null),!e.freeAccess&&e.isLogged&&n.createElement("div",{className:"Header-class-report"},n.createElement("button",{type:"button",onClick:v,"aria-label":r("materialView.Header.reportIssue")},n.createElement(pe.G,{icon:ye.RrC}),n.createElement("div",{className:"Header-tooltip"},n.createElement("p",null,r("materialView.Header.reportIssue")))))),"lecture"===e.materialType&&n.createElement("div",{className:"Header-lecture"},n.createElement(pe.G,{icon:he.cwv}),n.createElement("p",null,r("materialView.header.materialLecture"))),f&&n.createElement(za,{close:v,onSubmit:function(t){var r,n={courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,errorReport:t};(r=n,Pe(!0).post(Le(r.courseSlug,r.materialId,r.materialSlug),{message:r.errorReport}).then((function(e){return e.data}))).then((function(){y(!0)})).catch((function(e){throw new Error(e)}))},reportSent:p}))};_o.propTypes={blockedInfo:oe().shape({blocked:oe().bool}),courseId:oe().number,courseTitle:oe().string,courseSlug:oe().string,courseUrl:oe().string,courseBadge:oe().string,teacherAvatar:oe().string,teacherName:oe().string,name:oe().string,materialId:oe().string,materialSlug:oe().string,materialParams:oe().shape({totalMaterial:oe().number,actualMaterial:oe().number,nextMaterialUrl:oe().string,nextMaterialName:oe().string,previousMaterialUrl:oe().string,previousMaterialName:oe().string,isLast:oe().bool}),isAccountless:oe().bool,materialType:oe().oneOf(["video","lecture","audio","iframe"]),isMobile:oe().bool,freeAccess:oe().bool,isLogged:oe().bool},_o.defaultProps={courseId:0,freeAccess:!1,isLogged:!1,isAccountless:!1};var Oo=r(93024);function jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var No=function(){var e=(0,ue.$)().t,t=(0,c.I0)(),r=jo((0,n.useState)(!1),2),a=r[0],o=r[1],i=sr((function(e){return e.get("videoPlayer").get("courseTitle")}),""),l=sr((function(e){return e.get("bookmarks").get("selected").toJS()}),{}).time,s=void 0===l?0:l,u="https://platzi.com".concat(window.location.pathname,"?time=").concat(s),f=function(e){e.preventDefault(),e.stopPropagation(),t(Bt(!1)),t(Lt(null))};return n.createElement("div",{className:"ShareUrlModal"},n.createElement("button",{className:"ShareUrlModal-backdrop",onClick:f}),n.createElement(Wt.C,{customClass:"ShareUrlModal-modal"},n.createElement("div",{className:"ShareUrlModal-closeModal"},n.createElement("button",{type:"button",onClick:f,"aria-label":"Close Modal"},n.createElement(pe.G,{icon:ye.NBC}))),n.createElement("div",{className:"ShareUrlModal-content"},n.createElement("div",{className:"ShareUrlModal-title"},n.createElement("div",{className:"ShareUrlModal-title-icon"},n.createElement(pe.G,{icon:ye.zBy})),n.createElement("p",{className:"ShareUrlModal-title-text"},e("materialView.shareUrlModal.title"))),n.createElement("textarea",{className:"ShareUrlModal-input",readOnly:"true",value:u})),n.createElement("div",{className:"ShareUrlModal-buttons"},n.createElement("button",{type:"button",className:"ShareUrlModal-buttons-copy",onClick:function(){navigator.clipboard.writeText(u).then((function(){o(!0)}),(function(e){throw new Error(e)})),setTimeout((function(){f()}),1500)}},e("materialView.shareUrlModal.buttonCopy"),a&&n.createElement(pe.G,{icon:ye.LEp})),n.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(u,"&text=").concat(i),className:"ShareUrlModal-buttons-social",target:"_blank",onClick:function(){setTimeout((function(){f()}),1500)}},n.createElement(pe.G,{icon:Oo.mdU})),n.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(u),className:"ShareUrlModal-buttons-social",target:"_blank",onClick:function(){setTimeout((function(){f()}),1500)}},n.createElement(pe.G,{icon:Oo.neY})))))},To=function(e){var t=e.radius-2*e.stroke,r=2*t*Math.PI,a=r-e.progress/100*r;return n.createElement("svg",{height:2*e.radius,width:2*e.radius},n.createElement("circle",{stroke:"white",fill:"transparent",strokeWidth:e.stroke,strokeDasharray:"".concat(r," ").concat(r),style:{strokeDashoffset:a},r:t,cx:e.radius,cy:e.radius}))};function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Co(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Co(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}To.propTypes={radius:oe().number,stroke:oe().number,progress:oe().number};var xo=!1,Ao=function(e){var t=(0,ue.$)().t,r=Po((0,n.useState)(0),2),a=r[0],o=r[1],i=0;(0,n.useEffect)((function(){l()}),[]);var l=function t(){!1===xo&&window.setTimeout((function(){if(++i<100){if(o(i),!1===xo)return t()}else if(!1===xo)return e.startNextMaterial();return null}),50)};return n.createElement("div",{className:"NextMaterial"},n.createElement("p",{className:"NextMaterial-subtitle"},t("materialView.nextMaterial.subtitle")),e.isLast?n.createElement("p",{className:"NextMaterial-title"},t("materialView.nextMaterial.isLast")):n.createElement("p",{className:"NextMaterial-title"},e.nextMaterialName),n.createElement("div",{className:"NextMaterial-link"},n.createElement(To,{radius:40,stroke:4,progress:a}),n.createElement("button",{type:"button",className:"NextMaterial-link-button","aria-label":"On click go to next class",onClick:e.startNextMaterial},n.createElement(pe.G,{icon:ve.zc}))),n.createElement("button",{type:"button",className:"NextMaterial-button",onClick:function(){xo=!0,e.cancelNextMaterial()}},t("materialView.nextMaterial.button")))};Ao.propTypes={cancelNextMaterial:oe().func,startNextMaterial:oe().func,nextMaterialName:oe().string,isLast:oe().bool},Ao.defaultProps={cancelNextMaterial:function(){},startNextMaterial:function(){},nextMaterialName:"",isLast:!1};var Mo=r(91598),Bo=(r(91893),r(14135)),Lo=r.n(Bo);function Vo(e){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function Ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==Vo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===Vo(o)?o:String(o)),n)}var a,o}function Do(e,t){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Do(e,t)}function Uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Go(e);if(t){var a=Go(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Fo(this,r)}}function Fo(e,t){if(t&&("object"===Vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}var qo=Mo.default.getComponent("Component"),zo=Mo.default.getComponent("MenuButton"),$o=Mo.default.getComponent("Menu"),Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Do(e,t)}(o,e);var t,r,n,a=Uo(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,e,t)}return t=o,(r=[{key:"createEl",value:function(){return Mo.default.dom.createEl("div",{className:"SettingButton vjs-icon-cog vjs-control ".concat(this.buildCSSClass())})}},{key:"createMenu",value:function(){return new $o(this.player())}}])&&Ro(t.prototype,r),n&&Ro(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(zo);qo.registerComponent("SettingButton",Ho);function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==Wo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===Wo(o)?o:String(o)),n)}var a,o}function Ko(e,t){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ko(e,t)}function Yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xo(e);if(t){var a=Xo(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Qo(this,r)}}function Qo(e,t){if(t&&("object"===Wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(e)}var Zo=Mo.default.getComponent("Component"),ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ko(e,t)}(o,e);var t,r,n,a=Yo(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);return(r=a.call(this,e,t)).on("click",(function(e){t.onServerChange({serverId:e.target.value}),r.createOptions(e.target.value)})),r}return t=o,(r=[{key:"createOptions",value:function(e){var t=this;this.el_.innerHTML="",Object.keys(this.options_.serverMap).forEach((function(r){var n=t.options_.serverMap[r],a=document.createElement("button");e===r&&a.setAttribute("class","--acive"),a.setAttribute("value",n.id),a.textContent="Server ".concat(n.id.split("server").join("")),t.el_.appendChild(a)}))}},{key:"createEl",value:function(){return Mo.default.dom.createEl("div",{id:"ServerPicker",className:"ServerPicker"})}},{key:"ready",value:function(){this.createOptions(this.options_.currentServer)}}])&&Jo(t.prototype,r),n&&Jo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Zo);Zo.registerComponent("ServerPicker",ei);function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==ti(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===ti(o)?o:String(o)),n)}var a,o}function ai(e,t){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ai(e,t)}function oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=li(e);if(t){var a=li(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ii(this,r)}}function ii(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function li(e){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},li(e)}var ci=Mo.default.getComponent("Component"),si=Mo.default.getComponent("MenuButton"),ui=Mo.default.getComponent("Menu"),fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}(o,e);var t,r,n,a=oi(o);function o(){return ri(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"createEl",value:function(){var e=Mo.default.dom.createEl("div",{className:"BackwardButton icon-backward vjs-control ".concat(this.buildCSSClass()),id:"backward-player-button"});return e.innerHTML='<svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--backward"><path fill="currentColor" d="M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"></path></svg>',e}},{key:"createMenu",value:function(){return new ui(this.player())}}])&&ni(t.prototype,r),n&&ni(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(si);ci.registerComponent("BackwardButton",fi);function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==mi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===mi(o)?o:String(o)),n)}var a,o}function yi(e,t){return yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yi(e,t)}function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bi(e);if(t){var a=bi(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return hi(this,r)}}function hi(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bi(e)}var gi=Mo.default.getComponent("Component"),wi=Mo.default.getComponent("MenuButton"),Ei=Mo.default.getComponent("Menu"),Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yi(e,t)}(o,e);var t,r,n,a=vi(o);function o(){return di(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"createEl",value:function(){var e=Mo.default.dom.createEl("div",{className:"ForwardButton icon-forward vjs-control",id:"forward-player-button"});return e.innerHTML='<svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--forward"><path fill="currentColor" d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"></path></svg>',e}},{key:"createMenu",value:function(){return new Ei(this.player())}}])&&pi(t.prototype,r),n&&pi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(wi);gi.registerComponent("ForwardButton",Si);function ki(e){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(e)}function _i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==ki(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===ki(o)?o:String(o)),n)}var a,o}function Oi(e,t){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oi(e,t)}function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ni(e);if(t){var a=Ni(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ii(this,r)}}function Ii(e,t){if(t&&("object"===ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ni(e){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ni(e)}var Ti=Mo.default.getComponent("Component"),Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oi(e,t)}(o,e);var t,r,n,a=ji(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,e,t)}return t=o,(r=[{key:"createEl",value:function(){return Mo.default.dom.createEl("div",{className:"PauseNextButton",id:"PauseNextButton"})}},{key:"ready",value:function(){var e=document.createElement("input"),t=document.createElement("label"),r=document.createElement("span");r.textContent="Autoplay",r.setAttribute("class","PauseNextButton-text"),t.textContent="Autopause",t.setAttribute("class","PauseNextButton-label".concat(this.player_.autoplay?" active":"")),t.setAttribute("for","autopause"),e.setAttribute("type","checkbox"),e.setAttribute("class","PauseNextButton-input"),e.setAttribute("name","autopause"),e.setAttribute("id","autopause"),this.player_.autoplay&&e.setAttribute("checked","checked"),this.el_.appendChild(r),this.el_.appendChild(t),this.el_.appendChild(e)}}])&&_i(t.prototype,r),n&&_i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ti);Ti.registerComponent("PauseNextButton",Pi);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==Ci(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===Ci(o)?o:String(o)),n)}var a,o}function Mi(e,t){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mi(e,t)}function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vi(e);if(t){var a=Vi(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Li(this,r)}}function Li(e,t){if(t&&("object"===Ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}var Ri=Mo.default.getComponent("Component"),Di=Mo.default.getComponent("MenuButton"),Ui=Mo.default.getComponent("Menu"),Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mi(e,t)}(o,e);var t,r,n,a=Bi(o);function o(){return xi(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"createEl",value:function(){var e=Mo.default.dom.createEl("button",{className:"DownloadButton",id:"download-button"});return e.innerHTML="Download subs",e}},{key:"createMenu",value:function(){return new Ui(this.player())}}])&&Ai(t.prototype,r),n&&Ai(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Di);Ri.registerComponent("DownloadButton",Fi);function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function qi(e){return function(e){if(Array.isArray(e))return zi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(r),!0).forEach((function(t){Wi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wi(e,t,r){return(t=Ki(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ki(n.key),n)}}function Ki(e){var t=function(e,t){if("object"!==Gi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gi(t)?t:String(t)}function Yi(e,t){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yi(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=el(e);if(t){var a=el(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Xi(this,r)}}function Xi(e,t){if(t&&("object"===Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zi(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},el(e)}var tl=[.5,.85,1,1.25,1.5,1.75,2],rl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yi(e,t)}(i,e);var t,r,a,o=Qi(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={currentServer:t.props.initialServer,isFullScreen:!1,endAction:0,subtitlesLanguage:void 0,payload:t.props.payload,isChangingServer:!1},t.setCurrentServer=function(e){return t.setState({currentServer:e})},t.configurePlayer=function(){t.player.log.level(t.props.isOrganizer?"info":"off"),t.setPlayerSource(),t.player.currentTime(t.props.initialTime),t.player.volume(t.props.initialVolume),t.player.chromecast(),t.handlePlayerEvents(),t.configureSeek(),t.configureMenu(),t.player.qualityLevels&&t.player.maxQualitySelector({autoLabel:"Auto ",defaultQuality:1,displayMode:1,index:-4})},t.setPlayerSource=function(){t.serverSource&&t.player.src({src:t.serverSource,type:"hls"===t.sourceType?"application/x-mpegURL":"application/dash+xml"})},t.handleServerChange=function(e){var r=e.serverId,n=t.player.currentTime(),a=t.player.playbackRate();t.setState({isChangingServer:!0}),t.setCurrentServer(r),t.setPlayerSource(),t.player.on("loadeddata",(function(){t.player.currentTime(n),t.player.playbackRate(a)})),t.props.onServerChange(r),t.player.play()},t.configureSeek=function(){var e=document.getElementById("backward-player-button"),r=document.getElementById("forward-player-button"),n=function(e,r){e.preventDefault();var n=t.player.currentTime();"backward"===r?n>15&&t.player.currentTime(n-15):"forward"===r&&t.player.currentTime(n+15)},a=function(){t.props.setPayload((function(e){return Hi(Hi({},e),{},{timestamp:t.player.currentTime().toString()})}))};e.addEventListener("click",(function(e){t.handleMetricCollectorRewind(),a(),n(e,"backward")})),e.addEventListener("touchstart",(function(e){t.handleMetricCollectorRewind(),a(),n(e,"backward")})),r.addEventListener("click",(function(e){t.handleMetricCollectorForward(),a(),n(e,"forward")})),r.addEventListener("touchstart",(function(e){t.handleMetricCollectorForward(),a(),n(e,"forward")}))},t.handleMetricCollectorRewind=function(){var e,r,n,a,o={event_name:no.eventName,attributes:{course_id:null===(e=t.state.payload)||void 0===e?void 0:e.course_id,material_id:null===(r=t.state.payload)||void 0===r?void 0:r.material_id,value:"true",key:"".concat(null===(n=t.state.payload)||void 0===n?void 0:n.user_id,"-").concat(null===(a=t.state.payload)||void 0===a?void 0:a.material_id)},metadata:{event_type:no.eventType}};et({payload:o})},t.handleMetricCollectorForward=function(){var e,r,n,a,o={event_name:Qa.eventName,attributes:{course_id:null===(e=t.state.payload)||void 0===e?void 0:e.course_id,material_id:null===(r=t.state.payload)||void 0===r?void 0:r.material_id,value:"true",key:"".concat(null===(n=t.state.payload)||void 0===n?void 0:n.user_id,"-").concat(null===(a=t.state.payload)||void 0===a?void 0:a.material_id)},metadata:{event_type:Qa.eventType}};et({payload:o})},t.configureMenu=function(){if(t.player.controlBar.SettingButton.menu.addChild("ServerPicker",{onServerChange:t.handleServerChange,currentServer:t.state.currentServer,serverMap:t.props.serverMap}),!document.getElementById("autopause")){var e=t.player.controlBar.SettingButton.menu.addChild("PauseNextButton",{autoplay:t.props.autoplay}),r=document.getElementById("autopause");r.checked=t.props.autoplay,document.getElementsByClassName("PauseNextButton-label")[0].className=r.checked?"PauseNextButton-label active":"PauseNextButton-label",e.on("click",(function(){var e=document.getElementById("autopause"),r=document.getElementsByClassName("PauseNextButton-label")[0];t.props.setAutoplay(!t.props.autoplay),e.checked=!e.checked,r.className=e.checked?"PauseNextButton-label active":"PauseNextButton-label"}))}t.props.isOrganizer&&t.props.subtitles.length>0&&t.player.controlBar.SettingButton.menu.addChild("DownloadButton").on("click",(function(e){e.preventDefault();var r=qi(t.props.subtitles),n=setInterval((function(e){var t=e.pop(),r=document.createElement("a");r.setAttribute("href",t.source),r.setAttribute("download",t.label),r.setAttribute("target","_blank"),r.click(),0===e.length&&clearInterval(n)}),1e3,r)}))},t.getActiveLang=function(){for(var e,r=t.player.textTracks(),n=0;n<r.length;n++){var a=r[n];if("showing"===a.mode){e=a.language;break}}return e},t.handlePlayerEvents=function(){var e=t.props,r=e.materialId,n=e.courseId,a=document.querySelector(".vjs-playback-rate-value");t.player.on("ended",(function(){t.props.onEnded(),0===t.state.endAction&&(ce.T.send({event:"end_material_class",end_current_time:parseInt(t.player.currentTime(),10),end_material_id:parseInt(t.props.materialId,10)}),t.setState({endAction:1}))})),t.player.on("error",(function(e){if(4===t.player.error().code){var r=Object.keys(t.props.serverMap).indexOf("serverA"),n=Object.keys(t.props.serverMap).indexOf("serverB"),a=Object.keys(t.props.serverMap).indexOf("serverC");if(r>=0&&"serverA"!==t.state.currentServer)return void t.handleServerChange({serverId:"serverA"});if(n>=0&&"serverB"!==t.state.currentServer)return void t.handleServerChange({serverId:"serverB"});if(a>=0&&"serverC"!==t.state.currentServer)return void t.handleServerChange({serverId:"serverC"})}throw new Error(e)})),t.player.on("firstplay",(function(){if(0!==t.player.playbackRate()?t.player.playbackRate(t.props.initialPlaybackRate):t.player.playbackRate(1),t.props.sendMetricsEvent.startVideoEvent(t.player.currentTime()),ce.T.send({event:"play_material_class",current_time:parseInt(t.player.currentTime(),10),material_id:parseInt(t.props.materialId,10)}),!t.state.isChangingServer){var e,r,n,a,o={event_name:ao.eventName,attributes:{course_id:null===(e=t.state.payload)||void 0===e?void 0:e.course_id,material_id:null===(r=t.state.payload)||void 0===r?void 0:r.material_id,value:"true",key:"".concat(null===(n=t.state.payload)||void 0===n?void 0:n.user_id,"-").concat(null===(a=t.state.payload)||void 0===a?void 0:a.material_id)},metadata:{event_type:ao.eventType}};et({payload:o}),t.setState({isChangingServer:!1})}})),t.player.on("fullscreenchange",(function(){t.setState({isFullScreen:!t.state.isFullScreen})})),t.player.textTracks().addEventListener("change",(function(e){var a=t.getActiveLang(),o=void 0!==a?"sub_activation":"sub_deactivation",i=void 0!==a?a:t.state.subtitlesLanguage;ce.T.send({event:o,course_id:n,material_id:r,lang:i,moment:t.player.currentTime()}),t.setState({subtitlesLanguage:a}),t.props.setCurrentSubtitle(a)})),t.player.on("loadeddata",(function(){t.player.loadingSpinner.hide()})),t.player.on("loadedmetadata",(function(){t.player.loadingSpinner.show()})),t.player.on("loadstart",(function(){t.player.loadingSpinner.show()})),t.player.on("pause",(function(){var e,r,n,a,o={event_name:ro.eventName,attributes:{course_id:null===(e=t.state.payload)||void 0===e?void 0:e.course_id,material_id:null===(r=t.state.payload)||void 0===r?void 0:r.material_id,value:"true",key:"".concat(null===(n=t.state.payload)||void 0===n?void 0:n.user_id,"-").concat(null===(a=t.state.payload)||void 0===a?void 0:a.material_id)},metadata:{event_type:ro.eventType}};et({payload:o}),t.props.setPlayerStatus("paused"),t.props.setPayload((function(e){return Hi(Hi({},e),{},{timestamp:t.player.currentTime().toString()})})),t.props.videoDuration-t.player.currentTime()>2&&t.props.sendMetricsEvent.pauseVideoEvent(t.player.currentTime())})),t.player.on("playing",(function(){t.props.setPlayerStatus("playing"),t.props.setPayload((function(e){return Hi(Hi({},e),{},{timestamp:t.player.currentTime().toString()})})),t.player.loadingSpinner.hide();var e=t.player.playbackRate();e!==t.props.initialPlaybackRate&&e>0&&(1!==e?a.classList.add("is-bold"):a.classList.remove("is-bold"))})),t.player.on("timeupdate",(function(){t.props.onTimeUpdate(t.player.currentTime(),t.player.playbackRate())})),t.player.on("volumechange",(function(){var e=t.player.volume();t.props.onVolumeChange(e)}))},t.changeTime=function(e){t.player.currentTime(e),t.props.unsetBookmarkClicked()},t.handlePlayVideo=function(){return t.player.play()},t.handlePauseVideo=function(){return t.player.pause()},cr.connect(Zi(t)),t}return t=i,(r=[{key:"componentDidMount",value:function(){Lo()(Mo.default);var e={playToggle:{},volumePanel:{},BackwardButton:{},ForwardButton:{},progressControl:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},RemainingTimeDisplay:{},playbackRateMenuButton:{},subsCapsButton:{},BookmarksMenu:{},SettingButton:{ServerPicker:{},PauseNextButton:{}},chromecast:{},pictureInPictureToggle:{},fullscreenToggle:{}};!this.props.freeAccess&&this.props.isLogged||delete e.BookmarksMenu,this.player=(0,Mo.default)(this.videoNode,{autoplay:"play",controls:!0,techOrder:["chromecast","html5"],playbackRates:tl,html5:{vhs:{overrideNative:!Mo.default.browser.IS_SAFARI,smoothQualityChange:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},plugins:{chromecast:{addButtonToControlBar:!0,receiverAppID:"54028100"},hotkeys:{volumeStep:.1,seekStep:10,enableModifiersForNumbers:!1,enableVolumeScroll:!1}},inactivityTimeout:2500,controlBar:{children:e}},this.configurePlayer),(this.player.paused||this.props.pauseVideoPlayerWithModal)&&(this.props.setPlayerStatus("paused"),this.player.pause())}},{key:"componentWillReceiveProps",value:function(e){var t=e.playerTime,r=e.initialVolume;null!==t.time&&r===this.props.initialVolume&&(t.time===this.props.playerTime.time&&t.timestamp===this.props.playerTime.timestamp||this.changeTime(t.time)),this.setState(Hi(Hi({},this.state),{},{payload:e.payload}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"componentDidUpdate",value:function(e){this.props.togglePlay!==e.togglePlay&&(this.props.togglePlay?this.player.play():this.player.pause()),e.pauseVideoPlayerWithModal&&this.player.pause()}},{key:"currentServer",get:function(){return this.state.currentServer in this.props.serverMap?this.state.currentServer:Object.keys(this.props.serverMap)[0]}},{key:"serverSource",get:function(){return this.sourceType?this.props.serverMap[this.currentServer][this.sourceType]:null}},{key:"sourceType",get:function(){var e=this.props.serverMap[this.currentServer].dash||!1,t=this.props.serverMap[this.currentServer].hls||!1,r=Mo.default.browser.IS_IPAD||Mo.default.browser.IS_IPHONE||Mo.default.browser.IS_IOS;return(Mo.default.browser.IS_CHROME||Mo.default.browser.IS_FIREFOX)&&e&&!r?"dash":t?"hls":"url"}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"VideoPlayer"},n.createElement("div",{"data-vjs-player":!0},n.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js",preload:"auto",crossOrigin:"anonymous"},this.props.subtitles.map((function(e,t){return n.createElement("track",{kind:e.type,src:e.source,srcLang:e.language,label:e.label,key:"track-".concat(t)})})))))}}])&&Ji(t.prototype,r),a&&Ji(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);rl.propTypes={serverMap:oe().object,initialServer:oe().string,autoplay:oe().bool,setAutoplay:oe().func,subtitles:oe().array,initialTime:oe().number,initialVolume:oe().number,initialPlaybackRate:oe().oneOfType([oe().string,oe().number]),onTimeUpdate:oe().func,onVolumeChange:oe().func,onEnded:oe().func,unsetBookmarkClicked:oe().func,onServerChange:oe().func,playerTime:oe().object,sendMetricsEvent:oe().func,togglePlay:oe().bool,isOrganizer:oe().bool,materialId:oe().string,videoDuration:oe().number,freeAccess:oe().bool,isLogged:oe().bool,userId:oe().number,courseId:oe().number.isRequired,setPlayerStatus:oe().func.isRequired,setCurrentSubtitle:oe().func.isRequired,payload:oe().object.isRequired,setPayload:oe().func.isRequired,pauseVideoPlayerWithModal:oe().bool},rl.defaultProps={autoplay:!0,isOrganizer:!1,freeAccess:!1,isLogged:!1,subtitles:[],serverMap:{},onTimeUpdate:function(){},onVolumeChange:function(){},onEnded:function(){},unsetBookmarkClicked:function(){},onServerChange:function(){},setAutoplay:function(){},sendMetricsEvent:function(){},setPlayerStatus:function(){},setCurrentSubtitle:function(){},setPayload:function(){},playerTime:{}};const nl=rl;function al(e){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(e)}function ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(r),!0).forEach((function(t){ll(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ol(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ll(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==al(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==al(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===al(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ul(e){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(e)}function fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(r),!0).forEach((function(t){dl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dl(e,t,r){return(t=yl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yl(n.key),n)}}function yl(e){var t=function(e,t){if("object"!==ul(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ul(t)?t:String(t)}var vl=!1,hl=!1,bl=function(){function e(t,r,n,a,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.videoDuration=t,this.materialId=r,this.initialPlayback=n,this.currentSubtitle=a,this.initialServer=o,this.isBrowserActive=i}var t,r,n;return t=e,(r=[{key:"payloadForMetrics",value:function(e){var t,r,n=e/this.videoDuration*100||0,a=(null===(t=screen)||void 0===t||null===(r=t.orientation)||void 0===r?void 0:r.type)||null;return{event:"material_view",material_id:this.materialId,screen_orientation:a,video_duration:this.videoDuration,video_percent:parseInt(n,10),playback_rate:this.initialPlayback,subtitle:this.currentSubtitle||null,server:this.initialServer,active_tab:this.isBrowserActive}}},{key:"sendEvent",value:function(e,t){var r=ml({type:e,video_current_time:parseInt(t,10)},this.payloadForMetrics(t));ce.T.send(ml({},r))}},{key:"playback30secsEvent",value:function(){vl||(vl=!0,this.sendEvent("video_start_30s",30))}},{key:"progressEach10UnitsEvent",value:function(e){if(!hl){var t=parseInt(e/this.videoDuration*100,10);if(t>=10&&t<=100&&t%10==0){hl=!0;var r=this.videoDuration/100*1e3;setTimeout((function(){return hl=!1}),r),this.sendEvent("video_progress",e)}}}},{key:"startVideoEvent",value:function(e){this.sendEvent("video_start",e)}},{key:"pauseVideoEvent",value:function(e){this.sendEvent("video_pause",e)}}])&&pl(t.prototype,r),n&&pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var El=function(){var e=(0,le.c)().getCookie,t=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("userType")})),r=(0,c.v9)((function(e){return e.get("videoPlayer").get("blockedInfo")})),n=(0,c.v9)((function(e){var t,r;return null===(t=e.get("videoPlayer"))||void 0===t||null===(r=t.get("materialParams"))||void 0===r?void 0:r.get("isNextMaterialPaid")}))||!1,a="B"===e("mvpwexp");return"free"===t&&!r&&a&&!n},Sl=function(){var e=(0,le.c)().getCookie,t=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("userType")})),r=(0,c.v9)((function(e){return e.get("videoPlayer").get("blockedInfo")})),n=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialParams").get("isNextMaterialPaid")}))||!1,a="B"===e("mvpwexp");return"free"===t&&!r&&a&&n},kl="material_view_impression_for_modal_free_class",_l="material_view_modal_end_free_class",Ol="material_view_modal_end_free_class_close_modal",jl="material_click_modal_end_free_class_next_class",Il="material_click_modal_end_free_class_plans_landing",Nl=function(e,t,r,n){e&&t&&r&&n&&n({event:String(r),course_id:String(t),material_id:String(e)})},Tl="last_modal_material_view",Pl="last_modal_impression",Cl="last_modal_click_buy_subscription",xl="last_modal_click_plans_landing",Al="last_modal_click_close",Ml=function(e,t,r,n){e&&t&&r&&n&&n({event:String(r),course_id:String(t),material_id:String(e)})};function Bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ll(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vl=function(){var e,t,r,a,o=(0,ue.$)().t,i=(0,c.v9)((function(e){return e.getIn(["header","isLogged"])}))||!1,l=(0,c.v9)((function(e){return e.getIn(["header","userInfo","userId"])}))||0,s=(0,c.v9)((function(e){return e.getIn(["videoPlayer","courseId"])})),u=(0,c.v9)((function(e){return e.getIn(["videoPlayer","materialId"])})),f=Bl((0,n.useState)({}),2),m=f[0],d=f[1],p=l%2;return(0,n.useEffect)((function(){0!==p&&function(e,t){return Pe(!0).get(Je(e,t)).then((function(e){return e.data})).catch((function(e){throw new Error("::ERROR::MATERIAL_VIEW__COURSE_PROGRESS",{cause:e})}))}(s,u).then((function(e){d(e.data)}))}),[p]),i&&0!==Object.keys(m).length?n.createElement("section",{className:"VideoCourseLeftToFinish"},n.createElement("div",{className:"VideoCourseLeftToFinish-action"},n.createElement(pe.G,{icon:he.sqG})),n.createElement("div",{className:"VideoCourseLeftToFinish-msg"},(null==m||null===(e=m.to_finish)||void 0===e?void 0:e.hours)>0?n.createElement("p",{"data-trans":"['materialView.videoCourseLeftToFinish.hours', 'materialView.videoCourseLeftToFinish.minutes]"},null==m?void 0:m.percent,"% "," ",o("materialView.videoCourseLeftToFinish.hours",{count:null==m||null===(t=m.to_finish)||void 0===t?void 0:t.hours})," ",o("materialView.videoCourseLeftToFinish.minutes",{count:null==m||null===(r=m.to_finish)||void 0===r?void 0:r.minutes})):n.createElement("p",{"data-trans":"materialView.videoCourseLeftToFinish.minutes"},null==m?void 0:m.percent,"% "," ",o("materialView.videoCourseLeftToFinish.minutes",{count:null==m||null===(a=m.to_finish)||void 0===a?void 0:a.minutes})))):null};function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Dl(){Dl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return n(i,"_invoke",{value:E(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function m(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(j([])));h&&h!==t&&r.call(h,o)&&(y=h);var b=p.prototype=m.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var c=u(e[n],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Rl(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ul(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ql=null,zl=function(e){var t,r,a,o,i=100*(parseInt(null===(t=e.tinyBirdTrackingTime)||void 0===t||null===(r=t.payload)||void 0===r?void 0:r.value,10)||100),l=(0,c.I0)(),u=El(),f=Sl(),m=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),d=(0,c.v9)((function(e){return e.get("header").get("userInfo")}),c.wU).toJS(),p=(0,c.v9)((function(e){return e.get("videoPlayer").get("onClickBookmark")})),y=(0,c.v9)((function(e){return e.get("videoPlayer").get("playVideo")})),h=(0,c.v9)((function(e){return e.get("videoPlayer").get("currentTime")})),b=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),g=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),w=(0,c.v9)((function(e){return e.get("contactInfo").get("isOrganizer")})),E=(0,c.v9)((function(e){return e.get("videoPlayer").get("freeAccess")||!1})),S=sr((function(e){return e.get("bookmarks").get("share_modal_open")}),!1),k=Fl((0,n.useState)(!1),2),_=k[0],O=k[1],j=Fl((0,n.useState)(0),2),I=j[0],N=j[1],T=Fl((0,n.useState)({}),2),P=T[0],C=T[1],x=Fl((0,n.useState)(y),2),A=x[0],M=x[1],B=Fl((0,n.useState)(e.player.autoplay?"playing":"paused"),2),L=B[0],V=B[1],R=Fl((0,n.useState)(null),2),D=R[0],U=R[1],F=Fl((0,n.useState)(!0),2),G=F[0],q=F[1],z=Fl((0,n.useState)(!0),2),$=z[0],H=z[1],W=ea(),J=W.openRegisterModal,K=W.canRegisterModalOpen,Y=function(){var e=gl((0,n.useState)(!0),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=function(){return r(!0)},t=function(){return r(!1)};return window.addEventListener("focus",e),window.addEventListener("blur",t),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[]),t}(),Q=Fl((0,le.b)("initialVolume",1),2),X=Q[0],Z=Q[1],ee=Fl((0,le.b)("initialServer",e.player.defaultServer),2),te=ee[0],re=ee[1],ne=Fl((0,le.b)("initialAutoplay",e.player.autoplay),2),ae=ne[0],oe=ne[1],ie=Fl((0,le.b)("initialPlayback",1),2),se=ie[0],ue=ie[1],fe=function(e,t){var r=cl((0,n.useState)({material_id:e.materialId,course_id:parseInt(e.courseId,10),username:t.userInfo.username,user_id:parseInt(t.userInfo.userId,10),user_type:t.userInfo.userType,country:t.userInfo.country,timestamp:t.currentTime?String(t.currentTime):void 0,videoplayer_status:t.playerStatus,playback_speed:String(t.initialPlayback),subtitle_type:t.currentSubttitle}),2),a=r[0],o=r[1];return(0,n.useEffect)((function(){o(il(il({},a),{},{username:t.userInfo.username,user_id:parseInt(t.userInfo.userId,10),user_type:t.userInfo.userType,country:t.userInfo.country}))}),[t.userInfo.userId]),(0,n.useEffect)((function(){o(il(il({},a),{},{timestamp:t.currentTime?String(t.currentTime):void 0}))}),[t.currentTime]),(0,n.useEffect)((function(){o(il(il({},a),{},{videoplayer_status:t.playerStatus,playback_speed:String(t.initialPlayback),subtitle_type:t.currentSubttitle||""}))}),[t.playerStatus,t.initialPlayback,t.currentSubttitle]),{payload:a,setPayload:o}}(e,{userInfo:d,playerStatus:L,initialPlayback:se,currentSubtitle:D,currentTime:h}),me=fe.payload,de=fe.setPayload;(0,n.useEffect)((function(){var t=function(){var t,r=(t=Dl().mark((function t(){return Dl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.c)("ms",{method:"get",requestURL:Ke(g,b),payload:{}}).then((function(t){var r,n=(null==t||null===(r=t.data)||void 0===r?void 0:r.length)-1,a=(null==t?void 0:t.data[n].material_progress.last_position)||0,o=parseInt(a,10),i=e.duration-o;o>0&&i>10&&C({time:o,timestamp:Date.now()})})).catch((function(e){throw new Error("::ERROR::MATERIAL_VIDEO",{cause:e})}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Ul(o,n,a,i,l,"next",e)}function l(e){Ul(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();m&&setTimeout((function(){t()}),700)}),[]),(0,n.useEffect)((function(){G&&(q(!1),o=!o&&setInterval((function(){q((function(){return de((function(e){var t={event_name:Za.eventName,attributes:{course_id:null==e?void 0:e.course_id,material_id:+(null==e?void 0:e.material_id)||0,value:Math.floor(null==e?void 0:e.timestamp)||0,key:"".concat(null==e?void 0:e.user_id,"-").concat(null==e?void 0:e.material_id)},metadata:{event_type:Za.eventType}};return et({payload:t}),clearInterval(o),e})),!0}))}),i))}),[me]),(0,n.useEffect)((function(){p&&(C({time:p,timestamp:Date.now()}),"undefined"!=typeof window&&-1!==window.location.href.indexOf("?time=")&&N(parseInt(window.location.search.replace(/^\D+/g,""),10)))}),[p]),function(e){(0,n.useEffect)((function(){if("undefined"!=typeof window){var t=window.location.search,r=new URLSearchParams(t),n=parseInt(r.get("time"),10);isNaN(n)||e({time:n,timestamp:Date.now()})}}),[e])}(C),(0,n.useEffect)((function(){M(y)}),[y]),(0,n.useEffect)((function(){if(void 0!==(null==me?void 0:me.timestamp)&&$){var e={event_name:Xa.eventName,attributes:{course_id:null==me?void 0:me.course_id,material_id:null==me?void 0:me.material_id,value:"true",key:"".concat(null==me?void 0:me.user_id,"-").concat(null==me?void 0:me.material_id)},metadata:{event_type:Xa.eventType}};0!==me.user_id&&m?et({payload:e}):m||et({payload:e}),H(!1)}}),[null==me?void 0:me.timestamp]),(0,n.useEffect)((function(){ql=new bl(e.duration,e.materialId,se,D,te,Y)}),[se,D,te,Y]),(0,n.useEffect)((function(){var e,t;30===parseInt(h,10)&&(null===(t=ql)||void 0===t||t.playback30secsEvent());null===(e=ql)||void 0===e||e.progressEach10UnitsEvent(h)}),[ql,h]);return n.createElement("div",{className:"MaterialVideo"},n.createElement(nl,{userId:d.userId,courseId:b,serverMap:e.servers,initialServer:te,autoplay:Boolean(ae)&&"false"!==ae,setAutoplay:function(e){oe(e)},subtitles:(null===(a=e.movin)||void 0===a?void 0:a.subtitles)||[],initialTime:I,initialVolume:parseFloat(X),initialPlaybackRate:se,onTimeUpdate:function(e,t){l(function(e){return{type:v,payload:e}}(e)),ue(t>0?t:1)},onVolumeChange:Z,onEnded:function(){if(!f&&!u&&!K&&Boolean(ae)&&"false"!==ae&&O(!0),K){var t={course_id:e.courseId,material_id:e.materialId,source:"ended_video",event:ia};J(t)}else u&&(l(qt(!0)),function(e,t){Nl(e,t,_l,ce.T.send)}(g,b)),f&&(l(zt(!0)),function(e,t){Ml(e,t,Pl,ce.T.send)}(g,b))},unsetBookmarkClicked:function(){},onServerChange:re,playerTime:P,togglePlay:A,isOrganizer:w,materialId:e.materialId,videoDuration:e.duration,freeAccess:E,isLogged:m,setPlayerStatus:V,setCurrentSubtitle:U,payload:me,setPayload:de,pauseVideoPlayerWithModal:e.pauseVideoPlayerWithModal,sendMetricsEvent:ql}),n.createElement(Vl,null),S&&n.createElement(No,null),_&&n.createElement(Ao,{cancelNextMaterial:function(){O(!1)},startNextMaterial:function(){if(E&&e.materialParams.isLast)window.location.href="/";else{var t={event_name:Ya.eventName,attributes:{course_id:null==me?void 0:me.course_id,material_id:null==me?void 0:me.material_id,value:"true",key:"".concat(null==me?void 0:me.user_id,"-").concat(null==me?void 0:me.material_id)},metadata:{event_type:Ya.eventType}};et({payload:t}),window.location.href="".concat(e.materialParams.nextMaterialUrl)}},nextMaterialName:e.materialParams.nextMaterialName,isLast:e.materialParams.isLast}))};zl.propTypes={pauseVideoPlayerWithModal:oe().bool,player:oe().shape({currentTime:oe().number,autoplay:oe().bool,defaultServer:oe().string}),materialParams:oe().shape({nextMaterialUrl:oe().string,nextMaterialName:oe().string,isLast:oe().bool}),servers:oe().object,movin:oe().shape({subtitles:oe().arrayOf(oe().shape({kind:oe().string,src:oe().string,srclang:oe().string,label:oe().string}))}),courseTitle:oe().string,courseId:oe().number,duration:oe().number,materialId:oe().string,tinyBirdTrackingTime:oe().object},zl.defaultProps={player:{currentTime:0,autoplay:!0,defaultServer:"ServerC"},servers:{},subtitles:[],duration:0};var $l=function(e){return n.createElement("div",{className:"MaterialYoutube",dangerouslySetInnerHTML:{__html:e.iframes[0].iframe}})};$l.propTypes={iframes:oe().string};var Hl=function(e){return n.createElement("div",{className:"MaterialLecture"},n.createElement("div",{className:"MaterialLecture-text",dangerouslySetInnerHTML:{__html:e.content}}),n.createElement("div",{className:"MaterialLecture__Actions"},n.createElement(uo,null),n.createElement(so,null)))};Hl.propTypes={content:oe().string},Hl.defaultProps={};var Wl=r(13227),Jl=r(40604),Kl=function(){var e=(0,ue.$)().t;return n.createElement("div",{className:"MaterialAudio"},n.createElement("h2",null,e("materialView.materialAudio.text")),n.createElement("div",{className:"MaterialAudio-stores"},n.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.platzi.platzi",target:"_blank","aria-label":"play store download"},n.createElement("figure",null,n.createElement("img",{src:Wl,alt:"Platzi on Google Play",loading:"lazy"}))),n.createElement("a",{href:"https://apple.co/2GJNMdY",target:"_blank","aria-label":"apple store download"},n.createElement("figure",null,n.createElement("img",{src:Jl,alt:"Platzi on Apple Store",loading:"lazy"})))))},Yl=function(e){var t=(0,ue.$)().t,r=(0,c.v9)((function(e){return e.get("videoPlayer").get("commentsNumber")})),a=(0,c.v9)((function(e){return e.get("videoPlayer").get("discussionsNumber")})),o=(0,c.v9)((function(e){return e.get("community").get("isSuggestionsActive")})),i=me()("CommunityTabs",{isInstantAnswersActive:o});return n.createElement("div",{className:i},n.createElement(de.S,{customClass:"CommunityTabs-content"},n.createElement(de.T,{key:"contributions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:t("materialView.communityTabs.comment",{quantity:r})}}),shouldShow:!0},n.createElement(Ta,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,scrollRef:e.scrollRef,classUrl:e.classUrl})),n.createElement(de.T,{key:"questions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:t("materialView.communityTabs.discussion",{quantity:a})}}),shouldShow:!0},n.createElement(ya,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,scrollRef:e.scrollRef,classUrl:e.classUrl}))))};Yl.propTypes={courseSlug:oe().string,materialId:oe().string,materialSlug:oe().string,commentsNumber:oe().number,discussionsNumber:oe().number,scrollRef:oe().object,blocked:oe().bool,classUrl:oe().string},Yl.defaultProps={blocked:!1};var Ql=function(e){var t,r,a=(0,ue.$)().t,o=(0,c.I0)(),i=(0,c.v9)((function(e){return e.get("community").get("isSuggestionsActive")})),l=(0,c.v9)((function(e){return e.get("community").get("suggestions")})),s=function(e){return function(){window.open(e,"_blank")}};return i?n.createElement(Wt.C,{isDark:!0,customClass:"InstantAnswers"},n.createElement("div",{className:"InstantAnswers-content"},n.createElement("button",{type:"button",onClick:function(){o(Ft(!1))},className:"InstantAnswers-close","aria-label":a("materialView.instantAnswers.close")},n.createElement(pe.G,{icon:ye.NBC})),(null===(t=l.discussions)||void 0===t?void 0:t.length)>0&&n.createElement("div",{className:"InstantAnswers-suggestions"},n.createElement("div",{className:"InstantAnswers-suggestions-title"},n.createElement("h4",null,a("materialView.instantAnswers.discussions"))),n.createElement("div",{className:"InstantAnswers-suggestions-content"},l.discussions.map((function(e,t){return n.createElement("button",{type:"button",key:"index-".concat(t),onClick:s(e.url),"aria-label":e.url},n.createElement("h5",null,e.title),n.createElement("div",{className:"InstantAnswers-suggestions-body",dangerouslySetInnerHTML:{__html:e.content}}))})))),(null===(r=l.contributions)||void 0===r?void 0:r.length)>0&&n.createElement("div",{className:"InstantAnswers-suggestions"},n.createElement("div",{className:"InstantAnswers-suggestions-title"},n.createElement("h4",null,a("materialView.instantAnswers.contributions"))),n.createElement("div",{className:"InstantAnswers-suggestions-content"},l.contributions.map((function(e,t){return n.createElement("button",{className:"--contribution",type:"button",key:"index-".concat(t),onClick:s(e.url),"aria-label":e.url},n.createElement("figure",{className:"InstantAnswers-suggestions-avatar"},n.createElement("img",{src:e.user.avatar,alt:e.user.username})),n.createElement("div",{className:"InstantAnswers-suggestions-text"},n.createElement("h6",null,e.user.username),n.createElement("div",{className:"InstantAnswers-suggestions-body",dangerouslySetInnerHTML:{__html:e.content}})))})))))):null};Ql.propTypes={materialId:oe().string};var Xl=function(){var e=(0,c.v9)((function(e){return e.get("community").get("preview")})),t=(0,c.I0)();if(""===e)return null;var r=function(){t(Ut(""))};return n.createElement("div",{className:"ImagesPreview"},n.createElement("button",{"aria-label":"close preview",className:"ImagesPreview-overlay",onClick:r}),n.createElement("div",{className:"ImagesPreview-image"},n.createElement("button",{className:"ImagesPreview-close","aria-label":"close preview",onClick:r},n.createElement(pe.G,{icon:he.Qj4})),n.createElement("figure",null,n.createElement("img",{src:e,alt:"Preview"}))))},Zl=r(40516);function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nc=function(){var e=(0,c.v9)((function(e){return e.get("header").get("platziDayEnabled")})),t=tc((0,n.useState)({}),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){e&&Pe(!0).get(Ve).then((function(e){return e.data})).then((function(e){return a(e)})).catch((function(e){throw new Error(e)}))}),[]),n.createElement(Zl.P,ec({isDark:!0},r))};function ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ic="confirm-email",lc="unlogged",cc="open-class",sc=function(e){var t=(0,ue.$)().t,r=(0,c.v9)((function(e){return e.get("header").get("userInfo").toJS()}),c.wU),a=r.email,o=r.userId,i=(0,c.v9)((function(e){var t,r;return null===(t=e.get("header"))||void 0===t||null===(r=t.get("basicUpgrade"))||void 0===r?void 0:r.toJS()}),c.wU)||{},l=ac((0,n.useState)(!1),2),s=l[0],u=l[1],f=ac((0,n.useState)("".concat(i.urlPromo,"?utm_source=header_banner_upgradeBasic_").concat(o)),2),m=f[0],d=f[1],p=ea(),y=p.canRegisterModalOpen,v=p.openRegisterModal,h=e.blockedInfo,b=h.type,g=h.url,w=h.exclusive,E=i.urlPromo?m:t("materialView.blocked.ctaLink-".concat(b),{next:e.classUrl,link:g});(0,n.useEffect)((function(){var t=e.courseId;b===lc&&ce.T.send({event:"registerwall_view",client_id:(0,ie.c)(document.cookie)._ga||"",course_id:t})}),[]),(0,n.useEffect)((function(){d("".concat(i.urlPromo,"?utm_source=header_banner_upgradeBasic_").concat(o))}),[o]);var S=function(){if(y){var t={course_id:e.courseId,material_id:e.materialId,source:"blocked_view",event:ia};v(t)}},k=me()("Blocked-button",{sent:s});return n.createElement("div",{className:"Blocked"},n.createElement("div",{className:"u-wrapper"},n.createElement("span",{className:"Blocked-player-icon"},n.createElement(pe.G,{icon:he.zc})),n.createElement("p",{className:"Blocked-subtitle"},n.createElement(pe.G,{icon:ye.byT}),t(b===cc?"materialView.blocked.messageOpenClass":"materialView.blocked.message")),n.createElement("p",{className:"Blocked-title"},i.urlPromo?t("materialView.blocked.title-upgradeBasic"):t("materialView.blocked.title-".concat(b),{plan:w})),"exclusive"===b&&!i.urlPromo&&n.createElement("h2",{style:{marginBottom:"1rem"}},t("materialView.blockedExclusive.text")),b===ic&&n.createElement(n.Fragment,null,n.createElement("h2",{dangerouslySetInnerHTML:{__html:t("materialView.blocked.subtitle",{email:a})}}),n.createElement("div",{className:"Blocked-emailContainer"},n.createElement("h2",null,t("materialView.blockedEmail.text")),n.createElement("button",{className:k,onClick:function(){var e;(e={email:a,user_id:o},Pe(!0).post(ke.onboarding.resendEmail,e)).then(),u(!0)}},t("materialView.blocked.cta-".concat(b))))),n.createElement("div",{className:"Blocked-links"},b===ic||"b2b"===b?null:i.urlPromo||b!==lc?n.createElement("a",{className:"Blocked-link",href:E},i.urlPromo?t("materialView.blocked.cta-upgradeBasic"):t("materialView.blocked.cta-".concat(b))):n.createElement(Jt.B,{className:"Blocked-link",onClick:S},t("materialView.blocked.cta-".concat(b))),b===lc&&n.createElement("div",{className:"Blocked-unloggedContainer"},n.createElement("h2",null,t("materialView.blockedUnlogged.text")),n.createElement("a",{href:t("materialView.blocked.ctaLink2-".concat(b),{next:e.classUrl})},t("materialView.blocked.cta2-".concat(b)))),b===cc&&n.createElement("a",{className:"Blocked-link Blocked-link--secondary",href:t("materialView.blocked.ctaLink2-".concat(b),{next:e.classUrl})},t("materialView.blocked.cta2-".concat(b))))))};function uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}sc.propTypes={blockedInfo:oe().shape({type:oe().string,url:oe().string,exclusive:oe().string}),classUrl:oe().string,courseId:oe().number,materialId:oe().number},sc.defaultProps={blockedInfo:{type:"free",url:"/precios"}};function mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pc=function(e){var t=e.handleClose,r=e.isOpen,a=(0,ue.$)().t,o=mc((0,n.useState)(!1),2),i=o[0],l=o[1],c="https://platzi.com/day/",s=[{id:1,name:"Whatsapp",icon:Oo.VHX,link:"https://wa.me/?text=".concat(c)},{id:2,name:"Telegram",icon:Oo.Uv8,link:"https://t.me/share/url?url=".concat(c)},{id:3,name:"Facebook",icon:Oo.neY,link:"https://www.facebook.com/sharer/sharer.php?u=".concat(c)},{id:4,name:"Twitter",icon:Oo.mdU,link:"https://twitter.com/intent/tweet?text=".concat(c)},{id:5,name:"Linkedin",icon:Oo.D9H,link:"https://www.linkedin.com/sharing/share-offsite/?&url=".concat(c)}],u=me()("DayLoveWall-share-url-input-text-icon",{hide:!i,show:i}),f=function(){localStorage.setItem("referral_shared",!0)};return n.createElement(se.a,{isOpen:r,handleClose:t},n.createElement("div",{className:"DayLoveWall-head","data-testid":"DayLoveWall"},n.createElement("div",{className:"DayLoveWall-head-icon"},n.createElement(pe.G,{icon:ye.zBy})),n.createElement("div",{className:"DayLoveWall-head-text"},n.createElement("h4",{className:"DayLoveWall-title","data-testid":"DayLoveWall-title"},a("materialView.lovewall.title")),n.createElement("p",{className:"DayLoveWall-subtitle","data-testid":"DayLoveWall-subtitle"},a("materialView.lovewall.subtitle")))),n.createElement("div",{className:"DayLoveWall-share"},n.createElement("div",{className:"DayLoveWall-share-url"},n.createElement("p",{className:"DayLoveWall-share-url-label","data-testid":"DayLoveWall-share-label"},a("materialView.lovewall.share.label")),n.createElement("div",{className:"DayLoveWall-share-url-input"},n.createElement("p",{className:"DayLoveWall-share-url-input-text","data-testid":"DayLoveWall-share-input"},c,n.createElement(pe.G,{className:u,icon:ye.LEp,"data-testid":"DayLoveWall-share-icon"})),n.createElement("button",{className:"DayLoveWall-share-url-input-button",onClick:function(){navigator.clipboard.writeText(c).then((function(){return l(!0)})),setTimeout((function(){return l(!1)}),3e3)},"data-testid":"DayLoveWall-share-cta"},a("materialView.lovewall.share.cta")))),n.createElement("div",{className:"DayLoveWall-share-social","data-testid":"DayLoveWall-share-icons"},s.map((function(e){var t=e.id,r=e.icon,a=e.link,o=e.name;return n.createElement("li",{className:"DayLoveWall-share-social-item",key:t},n.createElement("a",{href:a,className:"DayLoveWall-share-social-link","aria-label":o,onClick:f,target:"_blank"},n.createElement(pe.G,{icon:r})))})))))};function yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}pc.propTypes={handleClose:oe().func.isRequired,isOpen:oe().bool.isRequired};var hc=function(e){var t=(0,ue.$)().t,r=yc((0,n.useState)(!1),2),a=r[0],o=r[1];(0,n.useEffect)((function(){var e=new URLSearchParams(window.location.search),t="b"===e.get("e1"),r=["a","b"].includes(e.get("e2"));(t||r)&&o(!0)}),[]);return a?n.createElement("div",{className:"OnboardingOverlay"},n.createElement("div",{className:"OnboardingOverlay-dialog"},n.createElement("div",{className:"OnboardingOverlay-badge"},n.createElement("img",{src:e.courseBadge,alt:e.courseTitle,width:40,height:40,loading:"lazy"})),n.createElement("div",{className:"OnboardingOverlay-body"},n.createElement("h3",{className:"OnboardingOverlay-title"},t("materialView.onboardingOverlay.title")),n.createElement("p",{className:"OnboardingOverlay-description",dangerouslySetInnerHTML:{__html:t("materialView.onboardingOverlay.description",{courseTitle:e.courseTitle,courseCategory:e.courseCategory})}}),n.createElement("div",{className:"OnboardingOverlay-buttons"},n.createElement(Jt.B,{size:"sm",color:"platzi",onClick:function(){return o(!1)},id:"OnboardingOverlay-cta-ok"},t("materialView.onboardingOverlay.okBtn")),n.createElement(Jt.B,{size:"sm",color:"sky",hierarchy:"tertiary",as:"a",href:"/home",id:"OnboardingOverlay-cta-home"},t("materialView.onboardingOverlay.homeBtn")))))):null};function bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}hc.propTypes={courseBadge:oe().string.isRequired,courseCategory:oe().string.isRequired,courseTitle:oe().string.isRequired};var wc=function(e){var t=me()("MaterialIframe",{"MaterialIframe--mobile":e.isMobile}),r=bc((0,n.useState)(e.iframeSrc),2),a=r[0],o=r[1];return(0,n.useEffect)((function(){if(e.courseTitle){var t=new URL(e.iframeSrc.replaceAll("&amp;","&"));t.searchParams.set("course",e.courseTitle),t.searchParams.set("courseId",e.courseId),o((function(){return t.toString()}))}}),[e.courseTitle]),n.createElement("div",{className:t},n.createElement("iframe",{allow:"microphone;",title:e.name,src:a}))};wc.propTypes={iframeSrc:ae.string,isMobile:ae.bool,name:ae.string,courseTitle:ae.string,courseId:ae.string},wc.defaultProps={iframeSrc:"",isMobile:!1};var Ec=function(){var e,t=null===(e=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("blockedInfo")})))||void 0===e?void 0:e.toJS(),r=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("plansData"))||void 0===t?void 0:t.get("paywallExperimentCookie")}))||null,n="B"===r||"A"===r,a="free"===(null==t?void 0:t.type)&&n;return[a,a&&"B"===r]};function Sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _c=function(e){var t=e.plan,r=e.clickBuyEventHandler,a=e.clickPlanEventHandler,o=e.nextMaterialUrl,i=(0,ue.$)().t,l=Sc((0,n.useState)(t.buyUrl),2),c=l[0],s=l[1];return(0,n.useEffect)((function(){var e=new URL(window.location.protocol+"//"+window.location.host+t.buyUrl);e.searchParams.append("next",o),s(e.href)}),[]),n.createElement("section",{className:"SinglePlan-content"},n.createElement("div",{className:"SinglePlan-head"},n.createElement("div",{className:"SinglePlan-head-plan"},n.createElement("h3",null,i("materialView_singlePlan_plan_title",{planName:t.title})),n.createElement("p",null,i("materialView_singlePlan_student_amount",{studentAmount:t.students}))),n.createElement("p",{className:"SinglePlan-head-tag"},i("materialView_singlePlan_most_popular"))),n.createElement("div",{className:"SinglePlan-body"},n.createElement("div",{className:"SinglePlan-montly"},n.createElement("img",{src:t.flagUrl,alt:i("materialView_singlePlan_alt_flag")}),n.createElement("p",null,i("materialView_singlePlan_price",{planSymbol:t.symbol,planMontlyPrice:t.price}),n.createElement("span",null,i("materialView_singlePlan_per_month")))),n.createElement("div",{className:"SinglePlan-yearly"},n.createElement("div",{className:"SinglePlan-yearly-icon"},n.createElement(pe.G,{icon:ve.YHc})),n.createElement("p",{className:"SinglePlan-yearly-text"},i("materialView_singlePlan_yearly",{planYearly:t.planPrice,planSymbol:t.symbol})))),n.createElement("div",{className:"SinglePlan-content-actions"},n.createElement(Jt.B,{as:"a",color:"platzi",href:c,onClick:r},n.createElement("p",null,i("materialView_singlePlan_subscribe"))),n.createElement(Jt.B,{as:"a",color:"platzi",hierarchy:"secondary",href:"/precios/",onClick:a},n.createElement("p",null,i("materialView_singlePlan_more_plans")))))};_c.propTypes={plan:oe().shape({planPrice:oe().string,saveMoney:oe().string,flagUrl:oe().string,buyUrl:oe().string,price:oe().string,name:oe().string,slug:oe().string,installmentPrice:oe().string,highlight:oe().bool,students:oe().number,symbol:oe().string,title:oe().string,fullPrice:oe().string,frequency:oe().string,currencyCode:oe().string}),clickBuyEventHandler:oe().func,clickPlanEventHandler:oe().func,nextMaterialUrl:oe().string};var Oc=function(){var e,t=[void 0,void 0],r=null===(e=(0,c.v9)((function(e){return e.get("plansData")})))||void 0===e?void 0:e.toJS();if(!r)return t;var n=r.plans.filter((function(e){return"expert_plan"===e.name}))[0];if(!n)return t;var a=n.benefits.map((function(e){return r.benefits[e]}));return[n,a]};function jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ic(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nc=function(e){var t=e.clickBuyEventHandler,r=e.clickPlanEventHandler,a=e.nextMaterialUrl,o=jc(Oc(),1)[0];return o?n.createElement(_c,{plan:o,clickPlanEventHandler:r,clickBuyEventHandler:t,nextMaterialUrl:a}):null};Nc.propTypes={clickBuyEventHandler:oe().func,clickPlanEventHandler:oe().func,nextMaterialUrl:oe().string},Nc.defaultProps={clickBuyEventHandler:function(){},clickPlanEventHandler:function(){}};var Tc="blocked_material_impression",Pc="blocked_material_click_buy_subscription",Cc="blocked_material_click_plans_landing",xc=function(e,t,r,n){e&&t&&r&&n&&n({event:String(r),course_id:String(t),material_id:String(e)})},Ac=function(){var e=(0,ue.$)().t,t=(0,c.v9)((function(e){var t,r;return null==e||null===(t=e.get("videoPlayer"))||void 0===t||null===(r=t.get("materialParams"))||void 0===r?void 0:r.get("nextMaterialUrl")})),r=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("materialId")})),a=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("courseId")}));return n.createElement("section",{className:"BlockedMaterialPrice"},n.createElement("div",{className:"BlockedMaterialPrice-header"},n.createElement("div",{className:"BlockedMaterialPrice-icon"},n.createElement(pe.G,{icon:he.byT})),n.createElement("div",{className:"BlockedMaterialPrice-header-text"},n.createElement("h2",{"data-trans":"materialView_blocked_material_price_title"},e("materialView_blocked_material_price_title")),n.createElement("h3",{"data-trans":"materialView_blocked_material_price_description"},e("materialView_blocked_material_price_description")))),n.createElement("div",{className:"BlockedMaterialPrice-price"},n.createElement(Nc,{clickBuyEventHandler:function(){!function(e,t){xc(e,t,Pc,ce.T.send)}(r,a)},clickPlanEventHandler:function(){!function(e,t){xc(e,t,Cc,ce.T.send)}(r,a)},nextMaterialUrl:t})))};function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lc=function(e){var t=e.url,r=e.children,a=e.onClick;return n.createElement("a",{className:"BookmarkCreatedConfirmation__ShareLink",href:t,onClick:a,target:"_blank"},r)};function Vc(e){var t=e.bookmark,r=void 0===t?{}:t,a=e.courseTitle,o=void 0===a?"":a,i=e.open,l=e.onClose,c=(0,ue.$)().t,s=Mc((0,n.useState)(!1),2),u=s[0],f=s[1],m=r.time,d=void 0===m?0:m,p="https://platzi.com".concat(window.location.pathname,"?time=").concat(d),y="https://twitter.com/intent/tweet?url=".concat(p,"&text=").concat(o),v="https://www.facebook.com/sharer/sharer.php?u=".concat(p),h=function(){setTimeout((function(){l()}),1500)},b=me()("BookmarkCreatedConfirmation__Copied",{"BookmarkCreatedConfirmation__Copied--hide":!u});return n.createElement(se.e,{portalId:"bookmark-created-confirmation",show:i,close:l},n.createElement(se.c,{closeModal:l},n.createElement("div",{className:"BookmarkCreatedConfirmation"},n.createElement("div",{className:"BookmarkCreatedConfirmation__Content"},n.createElement("h3",{className:"BookmarkCreatedConfirmation__Title","data-trans":"materialView.bookmarks.created.dialog.title"},c("materialView.bookmarks.created.dialog.title")),n.createElement("p",{className:"BookmarkCreatedConfirmation__Message","data-trans":"materialView.bookmarks.created.dialog.message"},c("materialView.bookmarks.created.dialog.message")),n.createElement("p",{className:b,"data-trans":"materialView.bookmarks.created.dialog.copied"},c("materialView.bookmarks.created.dialog.copied"))),n.createElement("div",{className:"BookmarkCreatedConfirmation__Actions"},n.createElement("p",{className:"BookmarkCreatedConfirmation__SharingText","data-trans":"materialView.bookmarks.share"},c("materialView.bookmarks.share")),n.createElement("div",{className:"BookmarkCreatedConfirmation__SocialMedia"},n.createElement(Lc,{url:y,onClick:h},n.createElement(pe.G,{icon:Oo.mdU})),n.createElement(Lc,{url:v,onClick:h},n.createElement(pe.G,{icon:Oo.neY})),n.createElement(Lc,{url:p,onClick:function(e){e.preventDefault(),navigator.clipboard.writeText(p).then((function(){f(!0),setTimeout((function(){return f(!1)}),1500)}),(function(e){throw new Error(e)}))}},n.createElement(pe.G,{icon:he.uWk})))))))}function Rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uc(){var e=(0,c.I0)(),t=Rc((0,n.useState)(!1),2),r=t[0],a=t[1],o=Rc((0,n.useState)(!1),2),i=o[0],l=o[1],s=(0,c.v9)((function(e){return e.get("videoPlayer").get("newBookmark")})),u=(0,c.v9)((function(e){return e.get("videoPlayer").get("currentTime")})),f=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("userId")})),m=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),d=sr((function(e){return e.get("videoPlayer").get("courseTitle")}),""),p=function(){e(Mt(!1))};if(!s)return null;return n.createElement("div",{className:"Note"},n.createElement("div",{className:"Note__Overlay"}),n.createElement(nr,{onSubmit:function(t){var r,n=new FormData;n.append("time",parseInt(u,10)),n.append("description",t.description),n.append("material_id",m),n.append("user_id",f),n.append("private",t.private),(r=n,Pe(!0).post(Ae.new,r).then((function(e){return e.data}))).then((function(r){var n={id:r.bookmark_id,time:parseInt(u,10),description:t.description,private:t.private};e(function(e){return{type:g,payload:e}}(n)),l(n),a(!0)})).catch((function(e){throw new Error(e)}))},onCancel:p,currentTime:u,isNew:!0}),n.createElement(Vc,{bookmark:i,courseTitle:d,open:r,onClose:function(){a(!1),p()}}))}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}function Gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Lc.propTypes={url:oe().string.isRequired,children:oe().node.isRequired,onClick:oe().func.isRequired},Vc.propTypes={bookmark:oe().object,courseTitle:oe().string,onClose:oe().func.isRequired,open:oe().bool.isRequired};var zc=function(e){var t=(0,ue.$)().t,r=(0,n.useRef)(null),a=Gc((0,n.useState)(!1),2),o=a[0],i=a[1],l=Gc((0,n.useState)(0),2),s=l[0],u=l[1],f=Gc((0,n.useState)("calc(100vh - ".concat(s,"px)")),2),m=f[0],p=f[1],y=Gc((0,n.useState)(void 0),2),v=y[0],h=y[1],b=(0,le.a)(),g=b.width,w=b.height,E=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),S=function(e){var t=uc((0,n.useState)(!1),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){var t=localStorage.getItem("referral_shared"),r=localStorage.getItem("init_milestone_modal");if(e&&!t&&r){var n=localStorage.getItem("free_classes_counter");n?(n=Number(n)+1,localStorage.setItem("free_classes_counter",n),n>=10&&(a(!0),localStorage.setItem("free_classes_counter",0))):localStorage.setItem("free_classes_counter",1)}}),[]),{loveWallOpen:r,closeLoveWall:function(){return a(!1)}}}((0,c.v9)((function(e){return e.get("header").get("platziDayEnabled")}))),k=S.loveWallOpen,_=S.closeLoveWall,O=Gc(Ec(),2)[1];(0,n.useEffect)((function(){if(g<d.Zb)return p("none"),u(0),i(!0);j();var t=52+(e.hasPromo?54:0);u(t);var r="calc(100vh - ".concat(t,"px)");return g<d.qY&&"video"===e.type&&(r="calc(100vh - ".concat(t,"px - (9 * 100vw / 16))")),p(r),i(!1)}),[g]),(0,n.useEffect)((function(){window.setTimeout((function(){null!=r&&r.current&&h(r.current)}),500)}),[r]),(0,n.useEffect)((function(){j()}),[w]);var j=function(){var t,r;if("video"===e.type){var n="video-js";(null===(t=e.video)||void 0===t||null===(r=t.iframes)||void 0===r?void 0:r.length)>0&&(n="MaterialYoutube");var a=Math.round(.8*window.innerHeight),o=document.getElementsByClassName("MaterialView-video-item")[0],i=document.getElementsByClassName(n)[0];if(i)if(g>1440){var l=9*(window.innerWidth-492)/16,c=l>a?a:l;o.style.minHeight=c+"px",i.style.height=c+"px",i.style.paddingBottom=0}else o.style.minHeight="auto",i.style.height="0",i.style.paddingBottom="56.25%"}},I=t("materialView.landingUrl",{slug:e.courseSlug}),N=E?e.courseUrl:I,T=me()("MaterialView","MaterialView-type--".concat(e.type),{"MaterialView--blocked":e.blockedInfo.blocked});return n.createElement(n.Fragment,null,n.createElement(Xl,null),!o&&n.createElement(La,{courseSlug:e.courseSlug,courseUrl:N,materialId:e.materialId,materialSlug:e.materialSlug,courseTitle:e.courseTitle,courseBadge:e.courseBadge,freeAccess:e.freeAccess,headerHeight:s}),n.createElement(pc,{isOpen:k,handleClose:_}),n.createElement("div",{className:T,style:{maxHeight:o?"none":"calc(100vh - ".concat(s,"px)")}},n.createElement("div",{className:"MaterialView-video",style:{maxHeight:m}},"video"===e.type&&n.createElement("div",{className:"MaterialView-video-item"},e.blockedInfo.blocked?O?n.createElement(Ac,null):n.createElement(sc,e):e.video.iframes.length>0?n.createElement($l,e.video):n.createElement(zl,Fc({courseTitle:e.courseTitle,courseId:e.courseId,materialParams:e.materialParams,duration:e.duration,materialId:e.materialId,tinyBirdTrackingTime:e.tinyBirdTrackingTime,pauseVideoPlayerWithModal:e.pauseVideoPlayerWithModal},e.video))),n.createElement("div",{className:"MaterialView-content"},n.createElement("div",{className:"MaterialView-content-wrapper"},function(){var t;switch(e.type){case"video":return n.createElement(n.Fragment,null,n.createElement(_o,Fc({isMobile:o,isLogged:E,materialType:e.type},e)),n.createElement(Fa,Fc({isMobile:o},e)));case"lecture":return n.createElement(n.Fragment,null,n.createElement(_o,Fc({isMobile:o,isLogged:E,materialType:e.type},e)),n.createElement(Hl,{content:e.content}),o&&n.createElement(Fa,Fc({isMobile:o},e)));case"audio":return n.createElement(n.Fragment,null,n.createElement(Kl,{isMobile:o}),n.createElement(_o,Fc({isMobile:o,isLogged:E},e)));case"iframe":return n.createElement(n.Fragment,null,null!==(t=e.blockedInfo)&&void 0!==t&&t.blocked?n.createElement("div",{className:"MaterialView-video-item"},n.createElement(sc,e)):n.createElement(wc,{courseTitle:e.courseTitle,courseId:e.courseId,isMobile:o,iframeSrc:e.iframeSrc,name:e.name}),n.createElement(_o,Fc({isMobile:o,isLogged:E,materialType:e.type},e)),n.createElement(Fa,Fc({isMobile:o},e)));default:return null}}()),n.createElement(Uc,null),E&&o&&n.createElement(hc,e))),n.createElement("div",{className:"MaterialView-community",style:{maxHeight:m}},n.createElement("div",{className:"MaterialView-community-wrapper",ref:r,style:{maxHeight:m}},n.createElement(nc,null),!o&&!e.freeAccess&&n.createElement("div",{className:"MaterialView-editor"},n.createElement(Rn,{id:"b453",materialId:e.materialId,blocked:!E}),n.createElement(Ql,{materialId:e.materialId})),n.createElement(Yl,Fc({scrollRef:v},e))),E&&!o&&n.createElement(hc,e))))};zc.propTypes={type:oe().oneOf(["video","lecture","audio","iframe"]),pauseVideoPlayerWithModal:oe().bool,video:oe().object,courseTitle:oe().string,courseId:oe().number,materialParams:oe().object,duration:oe().number,content:oe().string,commentsNumber:oe().number,discussionsNumber:oe().number,materialId:oe().string,courseSlug:oe().string,courseUrl:oe().string,materialSlug:oe().string,courseBadge:oe().string,hasPromo:oe().bool,freeAccess:oe().bool,name:oe().string,blockedInfo:oe().shape({blocked:oe().bool}),iframeSrc:oe().string,tinyBirdTrackingTime:oe().object},zc.defaultProps={type:"",video:{},hasPromo:!1,freeAccess:!1,blockedInfo:{blocked:!1},name:""};var $c=function(e){var t=e.isOpen,r=e.closeModal,a=(0,ue.$)().t;return(0,n.useEffect)((function(){return function(){localStorage.setItem("init_milestone_modal_platzi_day","shown")}}),[]),n.createElement(se.e,{show:t,portalId:"platziDayModal",close:r,showFromBottom:!0},n.createElement(se.c,{closeModal:r},n.createElement("div",{className:"PlatzidayModal"},n.createElement(se.b,{className:"PlatzidayModal--head"},n.createElement("h3",null,a("materialView_modal_platziday_title")),n.createElement("ul",null,n.createElement("li",null,n.createElement(pe.G,{icon:he.LEp}),n.createElement("p",null,a("materialView_modal_platziday_description_1"))),n.createElement("li",null,n.createElement(pe.G,{icon:he.LEp}),n.createElement("p",null,a("materialView_modal_platziday_description_2")))),n.createElement("button",{className:"PlatzidayModal-cta",onClick:r},a("materialView_modal_platziday_cta"))))))};$c.propTypes={isOpen:oe().bool.isRequired,closeModal:oe().func.isRequired};var Hc="expiredCardShowed",Wc="expiredCardQty";function Jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yc=function(){var e,t,r,a=(0,ue.$)().t,o=(e=(0,le.c)(),t=e.setCookie,r=e.getCookie,{setExpiredCardCookies:function(e){var n,a=Un()(new Date),o=Un()(e),i=parseInt(r(Wc)||0,10);i||(n=o.subtract(3,"days").diff(a,"seconds")),1===i&&(n=o.subtract(1,"days").diff(a,"seconds")),i>=2&&(n=o.diff(a,"seconds")),t(Hc,1,n),t(Wc,i+1,o.diff(a,"seconds"))},getExpiredCardCookie:function(){return r(Hc)}}),i=o.setExpiredCardCookies,l=o.getExpiredCardCookie,s=(0,c.v9)((function(e){var t;return null===(t=e.getIn(["header","userInfo"]))||void 0===t?void 0:t.toJS()})),f=s.pastDue,m=s.pastDueError,d=s.plan,p=s.subscriptionTime,y=s.expiredCard,v=Jc((0,n.useState)(null),2),h=v[0],b=v[1];(0,n.useEffect)((function(){f&&(ce.T.send({event:"past_due",type:"Notification view",variation:"Material View"}),ce.T.send({event:"payments_notification_impression",view:"material_view",source:"past_due",reason:m.reason}),(0,u.h)("past_due_notification_material_view"),b({title:m.title||a("float-notification.past-due.title"),subtitle:m.error_message||a("float-notification.past-due.copy"),cta:m.cta||a("float-notification.past-due.update.link"),ctaText:m.ctaText||a("float-notification.past-due.updateCTA"),reason:m.reason,source:"past_due",type:"error"}));var e=l();!y||e||f||(ce.T.send({event:"payments_notification_impression",view:"material_view",source:"expired_card"}),b({title:a("float-notification.expired-card.title",{plan:d}),subtitle:a("float-notification.expired-card.subtitle",{plan:d,date:Un()(p).locale("es").format("D [de] MMMM")}),cta:a("float-notification.expired-card.cta"),ctaText:a("float-notification.expired-card.ctaText"),source:"expired_card",onClose:g,type:"warning"}))}),[f,y]);var g=function(){ce.T.send({event:"payments_notification_close",view:"material_view",source:"expired_card"}),i(p),b(null)};return h?n.createElement(se.P,{type:h.type||"error",title:h.title,subtitle:h.subtitle,updateCTA:h.ctaText,updateAction:function(){ce.T.send({event:"past_due",category:"Notification click",extra:"Material View - Update card"}),ce.T.send({event:"payments_notification_click",view:"material_view",source:h.source,reason:h.reason});var e=function(){if(!h.cta)return"";var e=new URL("".concat(window.location.origin).concat(h.cta));return e.searchParams.append("fromView","material-view"),e.searchParams.append("source",h.source),h.reason&&e.searchParams.append("pastDueReason",h.reason),e.href}();window.location.href=e},onClose:h.onClose,theme:"radiance"}):null};function Qc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zc=function(e){var t=Qc((0,n.useState)(!1),2),r=t[0],o=t[1];return(0,n.useEffect)((function(){if(!document.getElementById(e.portalId)){var t=document.createElement("div");t.id=e.portalId,document.body.appendChild(t)}o(!0)}),[]),r?(0,a.createPortal)(n.createElement(se.M,{show:e.show,close:e.close},e.children),document.getElementById(e.portalId)):null};Zc.propTypes={children:oe().node,show:oe().bool.isRequired,close:oe().func.isRequired,portalId:oe().string},Zc.defaultProps={portalId:"portal"};var es=r(48749);function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(r),!0).forEach((function(t){as(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function as(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ts(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return is(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return is(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ss="material-view",us=function(e){var t=e.open,r=e.modalInfo,a=e.setUpgradeModalInfo,o=(0,ue.$)().t,i=ls((0,n.useState)(t),2),l=i[0],s=i[1],u="$ ".concat(r.price.toLocaleString(navigator.language)),f="$ ".concat(r.discountPrice.toLocaleString(navigator.discountPriceFormated)),m=function(){var e,t=null===(e=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("header"))||void 0===t?void 0:t.get("userInfo")})))||void 0===e?void 0:e.toJS(),r=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("header"))||void 0===t?void 0:t.get("country_name")})),a=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("videoPlayer"))||void 0===t?void 0:t.get("courseId")})),o=os((0,n.useState)({client_id:"",transaction_id:"",email:t.email,name:t.name,user_type:t.userType,uuid:t.userId,country:r,course_id:a}),2),i=o[0],l=o[1];return(0,n.useEffect)((function(){l(ns(ns({},i),{},{email:t.email,name:t.name,user_type:t.userType,uuid:t.userId}))}),[t.userId]),{tinyBirdClick:function(e){var t=e.page,r=e.place,n=ce.m.create({name:"click"});n.addPlugin(ce.m.SessionStudentPlugin),n.send(ns(ns({},i),{},{page:t,place:r}))}}}(),d=m.tinyBirdClick;return(0,n.useEffect)((function(){var e=document.getElementById("vjs_video_3_html5_api");null==e||e.pause()}),[]),n.createElement(Zc,{show:l,portalId:"upgradeBasicPortal"},n.createElement("div",{className:"ModalUpgradeBasic",role:"dialog"},n.createElement("div",{className:"ModalUpgradeBasic-close"},n.createElement("button",{"data-trans":"materialView_modalUpgradeBasic_close_ariaLabel","aria-label":o("materialView_modalUpgradeBasic_close_ariaLabel"),onClick:function(){d({page:ss,place:"experiment_upgrade_basic-close_modal"}),a({modalInfo:{},show:!1}),s(!1)}},n.createElement(pe.G,{icon:ye.NBC}))),n.createElement("h2",{className:"ModalUpgradeBasic-title","data-trans":"materialView_modalUpgradeBasic_title"},o("materialView_modalUpgradeBasic_title")),n.createElement("div",{className:"ModalUpgradeBasic-offer-head"},n.createElement("p",null,o("materialView_modalUpgradeBasic_head"))),n.createElement("div",{className:"ModalUpgradeBasic-offer"},n.createElement("p",{"data-trans":"materialView_modalUpgradeBasic_plan_name",className:"ModalUpgradeBasic-plan"},o("materialView_modalUpgradeBasic_plan_name"),n.createElement(pe.G,{icon:he.ILF}),n.createElement("span",{"data-trans":"materialView_modalUpgradeBasic_plan_studentNumber"},o("materialView_modalUpgradeBasic_plan_studentNumber"))),n.createElement("p",{"data-trans":"materialView_modalUpgradeBasic_price",className:"ModalUpgradeBasic-price"},o("materialView_modalUpgradeBasic_price",{price:u})),n.createElement("div",{className:"ModalUpgradeBasic-discount"},n.createElement(fo.I,{src:r.flag}),n.createElement("p",{className:"ModalUpgradeBasic-discount-price"},f,n.createElement("span",{"data-trans":"materialView_modalUpgradeBasic_discount_time"},o("materialView_modalUpgradeBasic_discount_time")))),n.createElement("a",{className:"ModalUpgradeBasic-cta","data-trans":"materialView_modalUpgradeBasic_offer_cta",onClick:function(){d({page:ss,place:"experiment_upgrade_basic-subscribe"})},href:r.urlPromo},o("materialView_modalUpgradeBasic_offer_cta")),n.createElement("p",{"data-trans":"materialView_modalUpgradeBasic_offer_conditions",className:"ModalUpgradeBasic-offer-conditions"},o("materialView_modalUpgradeBasic_offer_conditions"))),n.createElement("ul",{className:"ModalUpgradeBasic-benefits"},n.createElement("li",{"data-trans":"materialView_modalUpgradeBasic_benefits_1"},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,o("materialView_modalUpgradeBasic_benefits_1"))),n.createElement("li",{"data-trans":"materialView_modalUpgradeBasic_benefits_2"},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,o("materialView_modalUpgradeBasic_benefits_2"))),n.createElement("li",{"data-trans":"materialView_modalUpgradeBasic_benefits_3"},n.createElement(pe.G,{icon:ye.LEp}),n.createElement(es.D,{tag:"p",html:o("materialView_modalUpgradeBasic_benefits_3")})),n.createElement("li",{"data-trans":"materialView_modalUpgradeBasic_benefits_4"},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,o("materialView_modalUpgradeBasic_benefits_4"))),n.createElement("li",{"data-trans":"materialView_modalUpgradeBasic_benefits_5"},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,o("materialView_modalUpgradeBasic_benefits_5"))))))};us.propTypes={open:ae.bool.isRequired,modalInfo:ae.object.isRequired,setUpgradeModalInfo:ae.func.isRequired};var fs=function(e){var t=e.closeModal,r=e.children;return n.createElement("div",{className:"CustomModalBase"},n.createElement(Jt.B,{onClick:t},n.createElement(pe.G,{icon:ye.NBC})),r)};fs.propTypes={children:oe().oneOfType([oe().node,oe().array]).isRequired,closeModal:oe().func.isRequired};var ms=function(e){var t=e.className,r=e.children,a="".concat(t||""," ModalHead");return n.createElement("div",{className:a,"data-testid":"ModalHead"},r)};ms.propTypes={children:oe().oneOfType([oe().node,oe().array]).isRequired,className:oe().string};var ds=function(e){var t=e.className,r=e.children,a="".concat(t||""," ModalBody");return n.createElement("div",{className:a,"data-testid":"ModalBody"},r)};ds.propTypes={children:oe().oneOfType([oe().node,oe().array]).isRequired,className:oe().string};var ps=function(e){var t=e.displayBenefits,r=e.courseName,a=e.materialId,o=e.courseId,i=e.nextMaterialUrl,l=(0,ue.$)().t;return!t.length>0?null:n.createElement("div",{className:"InnerContentModalGetSubscription-wrapper"},n.createElement(ms,{className:"InnerContentModalGetSubscription-head"},n.createElement("h3",null,l("materialView_innerContentModalGetSubscription_last_free_class")),n.createElement("p",null,l("materialView_innerContentModalGetSubscription_course",{courseName:r})),n.createElement("ul",{className:"InnerContentModalGetSubscription-list"},t.length>0&&t.map((function(e){return n.createElement("li",{key:e.text},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,e.text))})))),n.createElement(ds,{className:"InnerContentModalGetSubscription-content"},n.createElement(Nc,{clickBuyEventHandler:function(){!function(e,t){Ml(e,t,Cl,ce.T.send)}(a,o)},clickPlanEventHandler:function(){!function(e,t){Ml(e,t,xl,ce.T.send)}(a,o)},nextMaterialUrl:i})))};ps.propTypes={materialId:oe().string,courseId:oe().oneOfType([oe().string,oe().number]),displayBenefits:oe().arrayOf(oe().shape({text:oe().string})),courseName:oe().string,nextMaterialUrl:oe().string};var ys=function(e,t){var r=(0,c.I0)();return[(0,c.v9)((function(e){return e.get("modalGetSubscription").get("isOpen")})),function(){r(zt(!1)),function(e,t){Ml(e,t,Al,ce.T.send)}(e,t)}]};function vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bs=function(){var e=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),t=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),r=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialParams").get("nextMaterialUrl")})),a=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseTitle")})),o=Sl(),i=vs(ys(e,t),2),l=i[0],s=i[1],u=vs(Oc(),2)[1];return o?n.createElement(Zc,{portalId:"ModalGetsubscription",show:l,close:s},n.createElement(fs,{closeModal:s},n.createElement(ps,{displayBenefits:u,courseName:a,materialId:e,courseId:t,nextMaterialUrl:r}))):null},gs=function(e){var t=e.materialId,r=e.courseId,a=e.data,o=e.nextMaterialUrl,i=(0,ue.$)().t,l=function(){!function(e,t){Nl(e,t,jl,ce.T.send)}(t,r)};return a||o?n.createElement("div",{className:"InnerModalContent-wrapper"},n.createElement(ms,{className:"InnerModalContent-head"},n.createElement("h3",{"data-trans":"materialView_innerModalContent_title"},i("materialView_innerModalContent_title")),n.createElement("div",{className:"InnerModalContent-head-description"},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,a.name)),o&&n.createElement(Jt.B,{as:"a",color:"platzi",href:o,onClick:l},n.createElement(pe.G,{icon:ve.zc}),n.createElement("p",null,i("materialView_innerModalContent_next_class")))),n.createElement(ds,{className:"InnerModalContent-content"},n.createElement("h3",null,i("materialView_innerModalContent_concepts_title")),n.createElement("ul",null,a.skills&&a.skills.map((function(e,t){return n.createElement("li",{className:"InnerModalContent-content-item",key:"".concat(e,"-").concat(t)},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,e))}))),n.createElement("div",{className:"InnerModalContent-content-actions"},n.createElement(Jt.B,{as:"a","data-testid":"InnerModalContent-content-actions-prices",color:"platzi",hierarchy:"secondary",href:"/precios/",onClick:function(){!function(e,t){Nl(e,t,Il,ce.T.send)}(t,r)}},n.createElement("p",null,i("materialView_innerModalContent_plans"))),o&&n.createElement(Jt.B,{as:"a",color:"platzi",href:o,onClick:l},n.createElement(pe.G,{icon:ve.zc}),n.createElement("p",null,i("materialView_innerModalContent_next_class")))))):null};gs.propTypes={materialId:oe().string,courseId:oe().oneOfType([oe().string,oe().number]),data:oe().shape({name:oe().string,skills:oe().array}),nextMaterialUrl:oe().string};var ws=function(e,t){var r=(0,c.I0)();return[(0,c.v9)((function(e){return e.get("modalLearnedHere").get("isOpen")})),function(){r(qt(!1)),function(e,t){Nl(e,t,Ol,ce.T.send)}(e,t)}]};function Es(e){return function(e){if(Array.isArray(e))return _s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ks(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||ks(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){if(e){if("string"==typeof e)return _s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_s(e,t):void 0}}function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Os(e){return Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(e)}function js(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?js(Object(r),!0).forEach((function(t){Ns(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):js(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ns(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Os(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Os(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Os(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ps(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ps(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cs=function(){var e=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),t=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),r=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseSlug")})),a=(0,c.v9)((function(e){return e.get("modalLearnedHere")})).toJS()||void 0,o=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialParams").get("nextMaterialUrl")})),i=El(),l=Ts(ws(e,t),2),s=l[0],u=l[1],f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=Ss((0,n.useState)(!0),2),l=i[0],c=i[1],s=Ss((0,n.useState)(void 0),2),u=s[0],f=s[1],m=Ss((0,n.useState)(void 0),2),d=m[0],p=m[1];return(0,n.useEffect)((function(){t&&e&&(c(!0),Pe(!0)[r](t,a).then((function(e){var t=e.data;f(t),c(!1)})).catch((function(e){throw p(e),c(!1),new Error({type:"::ERROR:: calling api ".concat(t),error:e})})))}),[].concat(Es(o),[t,e])),e?[l,u,d]:[l,void 0,void 0]}(i,We(r),"get"),m=Ts(f,3),d=m[0],p=m[1],y=m[2];return i?n.createElement(Zc,{portalId:"ModalLearnedHere",show:s,close:u},n.createElement(fs,{closeModal:u},n.createElement(gs,{materialId:e,courseId:t,data:Is(Is({},a),{},{skills:d||y?[]:p.skills}),nextMaterialUrl:o}))):null},xs=function(e){var t=e.courseName,r=e.displayBenefits,a=e.clickPlansAnalyticsEvent,o=e.materialId,i=e.courseId,l=(0,ue.$)().t;return n.createElement("div",{className:"InnerModalBlockedMaterial-content"},n.createElement(ms,{className:"InnerModalBlockedMaterial-head"},n.createElement("h2",null,l("materialView_innerModalBlockedMaterial_title")),n.createElement("h3",null,l("materialView_innerModalBlockedMaterial_description",{courseName:t})),n.createElement("ul",{className:"InnerModalBlockedMaterial-list"},r.length>0&&r.map((function(e){return n.createElement("li",{key:e.text},n.createElement(pe.G,{icon:ye.LEp}),n.createElement("p",null,e.text))}))),n.createElement(Jt.B,{as:"a",color:"platzi",hierarchy:"primary",href:"/precios/",onClick:function(){return a(o,i)}},n.createElement("p",null,l("materialView_innerModalBlockedMaterial_more_plans")))),n.createElement(ds,{className:"InnerModalBlockedMaterial-body"},n.createElement(Jt.B,{as:"a",color:"platzi",hierarchy:"primary",href:"/precios/",onClick:function(){return a(o,i)}},n.createElement("p",null,l("materialView_innerModalBlockedMaterial_more_plans")))))};function As(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ms(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ms(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}xs.propTypes={courseName:oe().string,displayBenefits:oe().arrayOf(oe().shape({text:oe().string})),materialId:oe().oneOfType([oe().string,oe().number]),courseId:oe().oneOfType([oe().string,oe().number]),clickPlansAnalyticsEvent:oe().func};var Bs=function(){var e=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseTitle")})),t=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),r=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),a=As(Pn(t,r),3),o=a[0],i=a[1],l=a[2],s=As(Oc(),2)[1],u=kn();return(0,n.useEffect)((function(){u&&l()}),[u]),u?n.createElement(Zc,{portalId:"ModalBlockedMaterial",show:o,close:i},n.createElement(fs,{closeModal:i},n.createElement(xs,{courseName:e,displayBenefits:s,materialId:t,courseId:r,clickPlansAnalyticsEvent:Tn}))):null},Ls=function(){var e,t=(0,c.I0)(),r=(0,ue.$)().t,a="materialView.milestones.alert",o=(null===(e=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("ui"))||void 0===t?void 0:t.get("notification")}),c.wU))||void 0===e?void 0:e.toJS())||{},i=o.title,l=o.description,s=o.successMessage,u=o.isVisible,f=o.milestoneIsCompleted,m=me()("MilestoneAlert","MilestoneAlert--show");(0,n.useEffect)((function(){setTimeout((function(){d()}),3e4)}),[]);var d=function(){t(Gt(ee))};return u?n.createElement("div",{className:m},n.createElement(fo.I,{customClass:"MilestoneAlert-image",src:"https://static.platzi.com/media/uploads/home-student-new/notification-avatar.png",alt:r("".concat(a,".imgAlt"))}),n.createElement("div",{className:"MilestoneAlert-cta"},n.createElement("p",{className:"MilestoneAlert-title"},r(i)),s&&n.createElement("p",{className:"MilestoneAlert-successMessage"},n.createElement(pe.G,{icon:he.f8k}),r(s)),n.createElement("p",{className:"MilestoneAlert-description",dangerouslySetInnerHTML:{__html:r(l)}}),n.createElement("div",{className:"MilestoneAlert-buttons"},!f&&n.createElement(n.Fragment,null,n.createElement("button",{className:"MilestoneAlert-button",onClick:d,"data-trans":r("".concat(a,".ok"))},r("".concat(a,".ok"))),n.createElement("a",{className:"MilestoneAlert-button --secondary",href:"/","data-trans":r("".concat(a,".missions"))},r("".concat(a,".missions")))),f&&n.createElement("a",{className:"MilestoneAlert-button --completedButton",href:"/precios/","data-trans":r("".concat(a,".final"))},r("".concat(a,".final")))))):null};function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ds="WELCOME",Us=function(){var e=(0,ue.$)().t,t=Vs((0,n.useState)(!0),2),r=t[0],a=t[1],o="/comprar/expert?coupon=".concat(Ds);(0,n.useEffect)((function(){var e=document.getElementById("vjs_video_3_html5_api");null==e||e.pause();var t=Un()().add(1,"day").format();localStorage.setItem("cuppon_timer_date_expiration",t)}),[]);var i=function(){return a(!1)};return n.createElement(Zc,{show:r,close:i,portalId:"freeMilestoneModal"},n.createElement("div",{className:"FreeMilestoneModal"},n.createElement("div",{className:"FreeMilestoneModal-close"},n.createElement("button",{type:"button",onClick:i,title:e("materialView.milestones.completedMilestone.close")},n.createElement(pe.G,{icon:ye.NBC}))),n.createElement("div",{className:"FreeMilestoneModal-top"},n.createElement(fo.I,{src:"https://static.platzi.com/media/uploads/mision_gift_1982301d63.png",customClass:"FreeMilestoneModal-badge",alt:e("materialView_milestones_modalFree_altImage")}),n.createElement("h2",null,e("materialView_milestones_modalFree_title")),n.createElement("div",{className:"FreeMilestoneModal-cuppon"},n.createElement(pe.G,{icon:he.LEN}),n.createElement("p",null,Ds)),n.createElement("p",{className:"FreeMilestoneModal-description",dangerouslySetInnerHTML:{__html:e("materialView_milestones_modalFree_description")}})),n.createElement("div",{className:"FreeMilestoneModal-bottom"},n.createElement("a",{href:o,className:"FreeMilestoneModal-redeem"},n.createElement("span",{href:o},e("materialView_milestones_modalFree_redeem"))),n.createElement("a",{href:"/precios/",className:"FreeMilestoneModal-plans"},n.createElement("span",null,e("materialView_milestones_modalFree_plans"))))))},Fs=function(e){var t=e.isOpen,r=e.closeModal,a=e.portalId,o=(0,ue.$)().t,i=(0,c.v9)((function(e){return e.get("header").get("promo_banner")}),c.wU).toJS(),l=(0,c.v9)((function(e){return e.get("header").get("platziDayEnabled")})),s=me()("FreePromoMilestoneModal-bottom",{"FreePromoMilestoneModal-bottom--platziDay":l});return l&&(i.url="/comprar/day-expert/"),(0,n.useEffect)((function(){var e=document.getElementById("vjs_video_3_html5_api");null==e||e.pause()}),[]),n.createElement(Zc,{portalId:a,show:t,close:r},n.createElement("div",{className:"FreePromoMilestoneModal"},n.createElement("div",{className:"FreePromoMilestoneModal-close"},n.createElement("button",{type:"button",onClick:r,"data-trans":"materialView.milestones.completedMilestone.close",title:o("materialView.milestones.completedMilestone.close")},n.createElement(pe.G,{icon:ye.NBC}))),n.createElement("div",{className:"FreePromoMilestoneModal-top"},n.createElement("h2",null,o("materialView_modal_FreePromoMilestoneModal_title")),n.createElement("p",{className:"FreePromoMilestoneModal-description"},o("materialView_modal_FreePromoMilestoneModal_description")),n.createElement("ul",{className:"FreePromoMilestoneModal-list"},n.createElement("li",null,n.createElement(pe.G,{icon:he.JyM}),o("materialView_modal_FreePromoMilestoneModal_benefit_1")),n.createElement("li",null,n.createElement(pe.G,{icon:he.Xf_}),o("materialView_modal_FreePromoMilestoneModal_benefit_2")),n.createElement("li",null,n.createElement(pe.G,{icon:he.fix}),o("materialView_modal_FreePromoMilestoneModal_benefit_3")),n.createElement("li",null,n.createElement(pe.G,{icon:he.fuY}),o("materialView_modal_FreePromoMilestoneModal_benefit_4")))),n.createElement("div",{className:s},n.createElement("a",{href:i.url,className:"FreePromoMilestoneModal-redeem"},o("materialView_modal_FreePromoMilestoneModal_subscribe")),!l&&n.createElement("a",{href:"/precios/",className:"FreePromoMilestoneModal-plans","data-trans":"materialView_milestones_modalFree_plans"},o("materialView_milestones_modalFree_plans")))))};Fs.propTypes={isOpen:oe().bool.isRequired,closeModal:oe().func.isRequired,portalId:oe().string.isRequired};function Gs(e){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(e)}function qs(){qs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return n(i,"_invoke",{value:E(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function m(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(j([])));h&&h!==t&&r.call(h,o)&&(y=h);var b=p.prototype=m.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var c=u(e[n],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Gs(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function zs(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function $s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||Ws(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ws(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){if(e){if("string"==typeof e)return Js(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Js(e,t):void 0}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ks="basicCoursesPromosSeen",Ys=function(e){var t="".concat(Ks,"-").concat(e);return window.localStorage.getItem(t)||window.localStorage.setItem(t,JSON.stringify([])),JSON.parse(window.localStorage.getItem(t))},Qs=function(e,t){var r=Ys(t),n="".concat(Ks,"-").concat(t);r.includes()||window.localStorage.setItem(n,JSON.stringify([].concat(Hs(r),[e])))},Xs=function(e){var t=e.courseSlug,r=e.courseId,a=(0,c.v9)((function(e){return e.get("header").get("userInfo")})).toJS().userId,o=$s((0,n.useState)({modalInfo:{},show:!1}),2),i=o[0],l=o[1],s=function(){var e,n=(e=qs().mark((function e(){var n,o;return qs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((n=Ys(a)).length<=3)||n.includes(r)){e.next=7;break}return e.next=5,nt(t);case 5:o=e.sent,Object.keys(o).length&&(l({modalInfo:o,show:!0}),Qs(r,a));case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("::ERROR::MATERIAL_VIEW_USE_SHOW_UPGRADE_MODAL",{cause:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){zs(o,n,a,i,l,"next",e)}function l(e){zs(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,n.useEffect)((function(){0!==a&&s()}),[a]),{upgradeModalInfo:i,setUpgradeModalInfo:l}};function Zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tu(e){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}function nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(r),!0).forEach((function(t){ou(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ou(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==tu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||lu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(e,t){if(e){if("string"==typeof e)return cu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cu(e,t):void 0}}function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var su=function(e){var t,r,a=iu((0,n.useState)({}),2),o=a[0],i=a[1],l=ea(),s=l.isRegisterModalOpen,u=l.canRegisterModalOpen,f=l.closeRegisterModal,m=(0,c.v9)((function(e){return e.get("header").get("isLogged")})),d=null===(t=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("header"))||void 0===t?void 0:t.get("userInfo")})))||void 0===t?void 0:t.toJS(),p=(0,c.v9)((function(e){var t;return null==e||null===(t=e.get("header"))||void 0===t?void 0:t.get("country_name")})),y="undefined"==typeof window?"":document.cookie,v=null===(r=(0,ie.c)(y))||void 0===r?void 0:r.studentsHomeVersion,h=o.steps||[],b=o.status,g=(0,le.c)().getCookie,w=(0,c.v9)((function(e){return e.get("header").get("userInfo").get("userType")})),E=(0,c.v9)((function(e){return e.get("videoPlayer").get("materialId")})),S=(0,c.v9)((function(e){return e.get("videoPlayer").get("courseId")})),k=(0,c.v9)((function(e){return e.get("header").get("platziDayEnabled")})),_=g("mvpwexp"),O="B"===_||"A"===_,j=iu((0,n.useState)(!1),2),I=j[0],N=j[1],T=El(),P=Sl(),C=iu(Ec(),2)[1],x=kn();(0,n.useEffect)((function(){var e="free"===w&&O;e&&ce.T.send({event:"experiment_paywall_arrival",course_id:String(S),material_id:String(E),is_experiment_sample:String(e)}),T&&function(e,t){Nl(e,t,kl,ce.T.send)}(E,S),P&&function(e,t){Ml(e,t,Tl,ce.T.send)}(E,S),C&&"free"===w&&function(e,t){xc(e,t,Tc,ce.T.send)}(E,S),x&&Nn(E,S,"first_load")}),[w,T,P,C]);var A=Xs({courseSlug:e.courseSlug,courseId:e.courseId}),M=A.upgradeModalInfo,B=A.setUpgradeModalInfo;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=(0,c.I0)();(0,n.useEffect)((function(){if("completed"===t&&"B"!==r)a(Gt({title:"materialView.alert.title",description:"materialView.alert.description.final",successMessage:"materialView.alert.success.final",isVisible:!0,milestoneIsCompleted:!0}));else{var n=Object.keys(e).find((function(t){return e[t].just_completed}));if(n){var o=e[n].name,i={title:"materialView.alert.title",description:"materialView.alert.description.".concat(o),successMessage:"materialView.alert.success.".concat(o),isVisible:!0};a(Gt(i))}}}),[e])}(h,b,v);var L=function(){var e=(0,c.v9)((function(e){return e.get("header").get("platziDayEnabled")})),t=Zs((0,n.useState)(!1),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){"shown"!==localStorage.getItem("init_milestone_modal_platzi_day")&&e&&a(!0)}),[]),{isOpenPlatziDayModal:r,closePlatziDayModal:function(){return a(!1)}}}(),V=L.isOpenPlatziDayModal,R=L.closePlatziDayModal;(0,n.useEffect)((function(){m||ce.T.send({event:"watch_class_accountless",client_id:(0,ie.c)(document.cookie)._ga||"",material_id:e.materialId}),u&&sa({course_id:e.courseId,material_id:e.materialId})}),[]),(0,n.useEffect)((function(){e.freeAccess?document.cookie="freeAccess=true;path=/":document.cookie="freeAccess=false;path=/",document.cookie="isLogged=".concat(m,";path=/"),e.freeAccess&&!localStorage.getItem("materialSeen-".concat(e.materialId))&&localStorage.setItem("materialSeen-".concat(e.materialId),"True");var t=ce.m.create({name:"pageload"});t.addPlugin(ce.m.SessionStudentPlugin);var r,n=window.location,a=n.href,o=n.pathname,l=n.search,c={},s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lu(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}(new URLSearchParams(l));try{for(s.s();!(r=s.n()).done;){var u=r.value,f=u[0],y=u[1];c=au(au({},c),{},ou({},f,y))}}catch(e){s.e(e)}finally{s.f()}var v=au({page:"material_view",place_url:a,path_info:o,query_string:l,object_id:Number(e.materialId),country:p},c);m&&0!==(null==d?void 0:d.userId)?(Pe(!0).get($e).then((function(e){return e.data})).then((function(e){var t,r;e&&((null!==(t=e.milestone_config)&&void 0!==t&&null!==(r=t.slug)&&void 0!==r&&r.startsWith("profling-test")||k)&&"completed"===e.status&&N(!0),i(e))})),v=au(au({},v),{},{name:null==d?void 0:d.name,email:null==d?void 0:d.email,uuid:null==d?void 0:d.userId,user_type:null==d?void 0:d.userType}),null!=d&&d.isB2B&&null!=d&&d.companyId&&(v=au(au({},v),{},{company_id:d.companyId})),t.send(v)):m||t.send(v)}),[null==d?void 0:d.userId]);return n.createElement(se.B,{noFooter:!0,isDark:!0,noBanner:!0,notificationDisabled:!0,noReferralBanner:!0},n.createElement(bs,null),n.createElement(Cs,null),n.createElement(Bs,null),n.createElement(se.R,{isOpen:s,closeModal:function(){f({course_id:e.courseId,material_id:e.materialId,event:la})},messages:{headTitle:"Regstrate sin costo y sigue aprendiendo",headDescription:"Con una cuenta gratuita puedes ver muchas ms clases gratis, crear planes de estudio y participar en la comunidad."},nextUrl:e.materialParams.nextMaterialUrl,extraDataEvent:{event:ca,courseId:e.courseId,materialId:e.materialId}}),n.createElement(zc,ru({},e,{pauseVideoPlayerWithModal:M.show})),!I&&!V&&n.createElement(Ls,null),V&&n.createElement($c,{isOpen:V,closeModal:R}),M.show&&n.createElement(us,{open:M.show,modalInfo:M.modalInfo,setUpgradeModalInfo:B}),n.createElement(Yc,null),I&&!k&&n.createElement(Us,null),I&&k&&n.createElement(Fs,{isOpen:I,closeModal:function(){return N(!1)},portalId:"freePromoMilestoneModal"}))};su.propTypes={materialId:oe().oneOfType([oe().string,oe().number]),freeAccess:oe().bool,courseSlug:oe().string.isRequired,courseId:oe().number.isRequired,materialParams:oe().shape({totalMaterial:oe().number,actualMaterial:oe().number,nextMaterialUrl:oe().string,nextMaterialName:oe().string,previousMaterialUrl:oe().string,previousMaterialName:oe().string,isLast:oe().bool})},su.defaultProps={freeAccess:!1};const uu=su;var fu=r(16587),mu=r(39666),du="https://9235028113464ee1a6870d9980efa28d@o114904.ingest.sentry.io/5606724";const pu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"undefined"!=typeof window&&(fu.S1({dsn:du,beforeSend:function(e){return e.message&&e.message.startsWith("ReportingObserver")&&e.extra.body&&e.extra.body.sourceFile&&e.extra.body.sourceFile.startsWith("chrome-extension")?null:e}}),e&&mu.e((function(t){t.setUser({id:e.userId,username:e.username,email:e.email})})))};r(91050),r(58585);var yu,vu=window.__PRELOADED_STATE__,hu=window.translations,bu=window.initialProps;pu(!!vu.header.userInfo.userId&&vu.header.userInfo),yu=o.qC;var gu=(0,o.MT)(ne,(0,i.fromJS)(vu),yu((0,o.md)(l.Z)));s.i.translationsConfig(hu),(0,u.r)(),(0,a.hydrate)(n.createElement(f.E,null,n.createElement(c.zt,{store:gu},n.createElement(m.L.Provider,{value:vu.header.locale||d.lE.SPANISH_CO},n.createElement(uu,bu)))),document.getElementById("material-view"))},46700:(e,t,r)=>{var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=46700},79769:(e,t,r)=>{"use strict";e.exports=r.p+"image/banner5f0a3afb709849f68e50.png"},40604:(e,t,r)=>{"use strict";e.exports=r.p+"image/store_appstore@2x4f5c25631bd17f8a6c5f.png"},13227:(e,t,r)=>{"use strict";e.exports=r.p+"image/store_googleplay@2xa957b5e92d4e5639d962.png"},25893:()=>{}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],l=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=293,n.p="https://static.platzi.com/mf-classes/",(()=>{var e={293:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,c]=r,s=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(c)var u=c(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[i[s]]=0;return n.O(u)},r=self.webpackChunkmf_classes=self.webpackChunkmf_classes||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[67,351,216],(()=>n(51218)));a=n.O(a)})();